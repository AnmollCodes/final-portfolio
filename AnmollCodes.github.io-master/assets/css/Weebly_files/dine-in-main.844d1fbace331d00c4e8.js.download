(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1054:function(m,p,n){"use strict";var u=function(){var D=this,M=D.$createElement,R=D._self._c||M;return R("items-table",D._g(D._b({attrs:{"user-id":D.userId,"selected-site-id":D.selectedSiteId,"catalog-site-id":D.catalogSiteId,"user-locale":D.userLocale},on:{"select-all:toggle":function(U){return D.$emit("select-all:toggle")},"row:checked":function(U){return D.$emit("row:checked",U)},"selection-data:change":D.onSelectionDataChange}},"items-table",D.ecomCatalogComponentsItemsTableProps,!1),D.eventTrackingListeners))},h=[],O=n(15),r=n(27),d=n(10),l=n(1040),_=n(1041),a=n(931),b=Object.defineProperty,f=Object.defineProperties,c=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,L=(D,M,R)=>M in D?b(D,M,{enumerable:!0,configurable:!0,writable:!0,value:R}):D[M]=R,T=(D,M)=>{for(var R in M||(M={}))j.call(M,R)&&L(D,R,M[R]);if(g)for(var R of g(M))I.call(M,R)&&L(D,R,M[R]);return D},B=(D,M)=>f(D,c(M)),k={name:"ItemsSelector",components:{ItemsTable:l.a},props:{visibleColumns:{type:Object,default:O.db},canSelectItems:{type:Boolean,default:!0},itemSelectionLimit:{type:Number,default:NaN},isSelectAllAvailable:{type:Boolean,default:!1},visibleFilters:{type:Object,default:O.ab},defaultSort:{type:Object,default:O.cb},isUsingInfiniteScroll:{type:Boolean,default:!0},excludedSites:{type:Array,default:()=>[]},fetchFromCatalogSite:{type:Boolean,default:!1},isSearchingVisible:{type:Boolean,default:!0},fetchOnCreation:{type:Boolean,default:!0},initialItems:{type:Array,default:()=>[]},preSelectedItems:{type:Array,default:()=>[]},itemIdKey:{type:String,default:"id"},eventsToTrack:{type:Object,default:()=>({})},backgroundAppliedFilters:{type:Object,default:()=>({})},externallyAppliedFilters:{type:Object,default:O.ab},externalSearch:{type:String,default:""},externalSort:{type:Object,default:()=>({})},itemTableLocation:{type:String,default:""},itemsTableStickyHeader:{type:Boolean,default:!1},hideFilterTags:{type:Boolean,default:!1},isAllSelectedInitially:{type:Boolean,default:!1},infiniteScrollSelectAllThreshold:{type:Number,default:10}},computed:B(T(T(T({},Object(r.mapState)(["userId"])),Object(r.mapGetters)(["selectedSiteId","catalogSiteId"])),Object(r.mapGetters)(d.H,{userLocale:"getLocale"})),{legacyItemsTableProps(){return{canSelectItems:this.canSelectItems,isUsingInfiniteScroll:this.isUsingInfiniteScroll,visibleColumns:this.visibleColumns,itemSelectionLimit:this.itemSelectionLimit,isSelectAllAvailable:this.isSelectAllAvailable,visibleFilters:this.visibleFilters,defaultSort:this.defaultSort,excludedSites:this.excludedSites,fetchFromCatalogSite:this.fetchFromCatalogSite,fetchOnCreation:this.fetchOnCreation,initialItems:this.initialItems,preSelectedItems:this.preSelectedItems,itemIdKey:this.itemIdKey,eventsToTrack:this.eventsToTrack,backgroundAppliedFilters:this.backgroundAppliedFilters,externallyAppliedFilters:this.externallyAppliedFilters,externalSearch:this.externalSearch,externalSort:this.externalSort,itemTableLocation:this.itemTableLocation,itemsTableStickyHeader:this.itemsTableStickyHeader,isSearchingVisible:this.isSearchingVisible,hideFilterTags:this.hideFilterTags,isAllSelectedInitially:this.isAllSelectedInitially,infiniteScrollSelectAllThreshold:this.infiniteScrollSelectAllThreshold}},ecomCatalogComponentsItemsTableProps(){return Object(a.b)(this.legacyItemsTableProps)},eventTrackingListeners(){return Object(a.a)(this.eventsToTrack)}}),methods:{onSelectionDataChange(D){this.$emit("selection-data:update",Object(a.c)(D))}}},P=k,A=n(21),w=Object(A.a)(P,u,h,!1,null,null,null),Oe=p.a=w.exports},1062:function(m,p,n){"use strict";n.d(p,"a",function(){return u}),n.d(p,"b",function(){return h});const u="modal",h="sheet"},1137:function(m,p,n){},1311:function(m,p,n){"use strict";n.d(p,"a",function(){return c});var u=function(){var g=this,j=g.$createElement,I=g._self._c||j;return I("div",{staticClass:"action-item",on:{click:function(L){return L.stopPropagation(),g.onToggleChange.apply(null,arguments)}}},[I("o-loading",{directives:[{name:"show",rawName:"v-show",value:g.isWorking,expression:"isWorking"}],staticClass:"loader",attrs:{variant:"spinner"}}),g._v(" "),g.leftLabel?I("span",{staticClass:"action-item__text"},[g._v(`
		`+g._s(g.label)+`
	`)]):g._e(),g._v(" "),I("o-toggle",{attrs:{disabled:g.disabled||g.isWorking,checked:g.checked,sublabel:g.sublabel},on:{click:function(L){L.stopPropagation(),L.preventDefault()}}},[g.leftLabel?g._e():I("div",[g._v(`
			`+g._s(g.label)+`
		`)])])],1)},h=[],O=n(202),r=n(69),d=(g,j,I)=>new Promise((L,T)=>{var B=A=>{try{P(I.next(A))}catch(w){T(w)}},k=A=>{try{P(I.throw(A))}catch(w){T(w)}},P=A=>A.done?L(A.value):Promise.resolve(A.value).then(B,k);P((I=I.apply(g,j)).next())}),l={components:{OToggle:O.OToggle,OLoading:r.OLoading},props:{checked:{type:Boolean,default:!1},label:{type:String,default:""},sublabel:{type:String,default:""},disabled:{type:Boolean,default:!1},onChange:{type:Function,default:()=>null},leftLabel:{type:Boolean,default:!1}},data(){return{isWorking:!1}},methods:{onToggleChange(){return d(this,null,function*(){this.isWorking=!0;try{this.onChange&&!this.disabled&&(yield this.onChange())}finally{this.isWorking=!1}})}}},_=l,a=n(1327),b=n(21),f=Object(b.a)(_,u,h,!1,null,"190f528a",null),c=f.exports},1327:function(m,p,n){"use strict";var u=n(1137),h=n.n(u)},1490:function(m,p,n){},1491:function(m,p,n){},1492:function(m,p,n){},1493:function(m,p,n){},1494:function(m,p,n){},1495:function(m,p,n){},1496:function(m,p,n){},1497:function(m,p,n){},1498:function(m,p,n){},1499:function(m,p,n){},1500:function(m,p,n){},1501:function(m,p,n){},1502:function(m,p,n){},1503:function(m,p,n){},1504:function(m,p,n){},1505:function(m,p,n){},1506:function(m,p,n){},1507:function(m,p,n){},1508:function(m,p,n){},1509:function(m,p,n){},1510:function(m,p,n){},1511:function(m,p,n){},1512:function(m,p,n){},1513:function(m,p,n){},1514:function(m,p,n){},1515:function(m,p,n){},1516:function(m,p,n){},1517:function(m,p,n){},1518:function(m,p,n){},1519:function(m,p,n){},1520:function(m,p,n){},1521:function(m,p,n){},1522:function(m,p,n){},1523:function(m,p,n){},1524:function(m,p,n){},1525:function(m,p,n){},1526:function(m,p,n){},1527:function(m,p,n){},1528:function(m,p,n){},1529:function(m,p,n){},1530:function(m,p,n){},1531:function(m,p,n){},1807:function(m,p,n){"use strict";var u=n(1490),h=n.n(u)},1808:function(m,p,n){"use strict";var u=n(1491),h=n.n(u)},1809:function(m,p,n){"use strict";var u=n(1492),h=n.n(u)},1810:function(m,p,n){"use strict";var u=n(1493),h=n.n(u)},1811:function(m,p,n){"use strict";var u=n(1494),h=n.n(u)},1812:function(m,p,n){"use strict";var u=n(1495),h=n.n(u)},1813:function(m,p,n){"use strict";var u=n(1496),h=n.n(u)},1814:function(m,p,n){"use strict";var u=n(1497),h=n.n(u)},1815:function(m,p,n){"use strict";var u=n(1498),h=n.n(u)},1816:function(m,p,n){"use strict";var u=n(1499),h=n.n(u)},1817:function(m,p,n){"use strict";var u=n(1500),h=n.n(u)},1818:function(m,p,n){"use strict";var u=n(1501),h=n.n(u)},1819:function(m,p,n){"use strict";var u=n(1502),h=n.n(u)},1820:function(m,p,n){"use strict";var u=n(1503),h=n.n(u)},1821:function(m,p,n){"use strict";var u=n(1504),h=n.n(u)},1822:function(m,p,n){"use strict";var u=n(1505),h=n.n(u)},1823:function(m,p,n){"use strict";var u=n(1506),h=n.n(u)},1824:function(m,p,n){"use strict";var u=n(1507),h=n.n(u)},1825:function(m,p,n){"use strict";var u=n(1508),h=n.n(u)},1826:function(m,p,n){"use strict";var u=n(1509),h=n.n(u)},1827:function(m,p,n){"use strict";var u=n(1510),h=n.n(u)},1828:function(m,p,n){"use strict";var u=n(1511),h=n.n(u)},1829:function(m,p,n){"use strict";var u=n(1512),h=n.n(u)},1830:function(m,p,n){"use strict";var u=n(1513),h=n.n(u)},1831:function(m,p,n){"use strict";var u=n(1514),h=n.n(u)},1832:function(m,p,n){"use strict";var u=n(1515),h=n.n(u)},1833:function(m,p,n){"use strict";var u=n(1516),h=n.n(u)},1834:function(m,p,n){"use strict";var u=n(1517),h=n.n(u)},1835:function(m,p,n){"use strict";var u=n(1518),h=n.n(u)},1836:function(m,p,n){"use strict";var u=n(1519),h=n.n(u)},1837:function(m,p,n){"use strict";var u=n(1520),h=n.n(u)},1838:function(m,p,n){"use strict";var u=n(1521),h=n.n(u)},1839:function(m,p,n){"use strict";var u=n(1522),h=n.n(u)},1840:function(m,p,n){"use strict";var u=n(1523),h=n.n(u)},1841:function(m,p,n){"use strict";var u=n(1524),h=n.n(u)},1842:function(m,p,n){"use strict";var u=n(1525),h=n.n(u)},1843:function(m,p,n){"use strict";var u=n(1526),h=n.n(u)},1844:function(m,p,n){"use strict";var u=n(1527),h=n.n(u)},1845:function(m,p,n){"use strict";var u=n(1528),h=n.n(u)},1846:function(m,p,n){"use strict";var u=n(1529),h=n.n(u)},1847:function(m,p,n){"use strict";var u=n(1530),h=n.n(u)},1848:function(m,p,n){"use strict";var u=n(1531),h=n.n(u)},2118:function(m,p,n){"use strict";n.r(p);var u=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.showPaidFeatureState&&!e.isLoading?t("spring-page",{staticClass:"sso-upgrade"},[t("sso-upgrade-view",{attrs:{id:"dine-in-upgrade-view",addresses:e.addresses},on:{"dine-in-wizard-complete":e.fetchDineInLocations}})],1):t("spring-page",{staticClass:"dine-in-page",attrs:{title:e.pageTitle}},[e.hasSelfServeOrderingFeature?t("div",{attrs:{slot:"description"},slot:"description"},[e._v(`
		`+e._s(e._f("utl")("ecommerce.settings.dine_in.page_description"))+`
		`),e.shouldShowZeroState?e._e():t("span",{staticClass:"instructions-link",on:{click:e.showSSOInstructionsModal}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.how_does_it_work"))+`
		`)]),e._v(" "),t("br"),e._v(" "),t("a",{attrs:{href:"https://squareup.com/help/article/7142-set-up-self-serve-ordering-and-qr-codes-with-square-online",target:"_blank",rel:"noopener noreferrer"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.learn_more_link"))+` >
		`)])]):t("sso-upgrade-zero-state",{scopedSlots:e._u([{key:"additional-content",fn:function(){return[t("upgrade-button",{attrs:{"feature-id":"self_serve_ordering",location:"sso","site-id":e.siteId,"cta-text":e._f("utl")("ecommerce.settings.dine_in.sso_upgrade_btn_cta")}})]},proxy:!0}],null,!1,1342039067)}),e._v(" "),e.isLoading?e._e():[e.isSitePublished?e._e():t("o-notice",{staticClass:"mb-2",attrs:{type:"warning",dismissible:"","dismissible-text":e._f("utl")("ecommerce.settings.dine_in.go_to_editor")},on:{dismiss:e.onGoToWebsite}},[e._v(`
			`+e._s(e.publishSiteNoticeText)+`
		`)]),e._v(" "),t("div",[e.hasAlcoholItemsNotice?t("o-notice",{staticClass:"mb-3",attrs:{dismissible:""},on:{dismiss:e.onAlcoholItemsDismiss}},[t("span",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_items_notice")))]),e._v(" "),t("a",{attrs:{href:e.ROUTE_PRODUCTS}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_items_notice_cta"))+`
				`)])]):e._e()],1),e._v(" "),e.shouldShowZeroState?t("dine-in-zero-state"):e._e(),e._v(" "),e.shouldShowCanvaBanner?t("canva-banner",{on:{"click:try-canva":e.showCanvaModal}}):e._e(),e._v(" "),t("location-list",{attrs:{addresses:e.addresses}})],e._v(" "),e.isLoading?t("content-loading"):e._e()],2)},h=[],O=n(68),r=n(10),d=n(70),l=n(8),_=n(1),a=n(27),b=n(146),f=n(42),c=n(17),g=n(125),j=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e._l(e.addresses,function(i){return t("location-list-item",e._g({key:i.id,attrs:{address:i,simple:e.simpleList,"on-location-clicked-callback":e.onLocationClick}},e.$listeners))}),e._v(" "),e.itemsTotal>e.itemsPerPage?t("div",{staticClass:"pagination"},[t("o-button-group",{attrs:{mode:"single-select"},model:{value:e.itemsPerPage,callback:function(i){e.itemsPerPage=i},expression:"itemsPerPage"}},e._l(e.itemsPerPageOptions,function(i){var v=i.value,C=i.label;return t("o-button-group-item",{key:v,attrs:{value:v}},[e._v(`
				`+e._s(C)+`
			`)])}),1),e._v(" "),t("o-pagination",{attrs:{pages:e.numPages,selectable:""},model:{value:e.currentPage,callback:function(i){e.currentPage=i},expression:"currentPage"}})],1):e._e(),e._v(" "),e.isLoading?t("content-loading"):e._e()],2)},I=[],L=n(372),T=n(515),B=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"location-list-item",class:{active:e.isActive,simple:e.simple},on:{click:e.onLocationClicked}},[t("div",{staticClass:"content-container"},[t("div",{staticClass:"content"},[t("o-heading",{attrs:{size:"title-2"}},[e._v(`
					`+e._s(e._f("formatAddressName")(e.address))+`
				`)]),e._v(" "),e.isAddressEmpty?e._e():t("address-display",{attrs:{address:e.address,"is-multi-line":!1}}),e._v(" "),t("div",[e._v(e._s(e._f("formatPhoneNumber")(e.address.phone)))])],1),e._v(" "),e.simple?t("div",{staticClass:"actions-container simple"},[t("o-icon",{attrs:{name:"arrow-right"}})],1):t("div",{staticClass:"actions-container"},[e.isActive?[t("o-button",{attrs:{"data-testid":"export-qrcodes-btn",variant:"secondary",disabled:!e.isSitePublished||e.exportDisabled},on:{click:function(i){return i.stopPropagation(),e.onGetQRCodesClick()}}},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.get_qr_code"))+`
					`)]),e._v(" "),t("o-schooltip",{attrs:{"active-tip":e.hasAccessToOpenTabs&&e.shouldShowSchoolTip,"tip-id":0,placement:"bottom"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(`
							`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_enablement_title"))+`
						`)]},proxy:!0},{key:"message",fn:function(){return[e._v(`
							`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_enablement_description"))+`
						`)]},proxy:!0}],null,!1,3495853412)},[e._v(" "),e._v(" "),t("div",{staticClass:"action-slot",attrs:{slot:"action"},slot:"action"},[t("a",{attrs:{id:"learn_more",href:"https://squareup.com/help/article/7680-self-serve-ordering-open-tabs-with-square-online",target:"_blank",rel:"noopener noreferrer"}},[e._v(`
								`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_enablement_details"))+`
							`)]),e._v(" "),t("a",{attrs:{href:"#"},on:{click:e.onDismissClick}},[t("o-icon",{attrs:{name:"x"}})],1)]),e._v(" "),t("o-button",{attrs:{"data-testid":"export-qrcodes-btn",variant:"secondary",disabled:!e.isSitePublished},on:{click:e.onExportBtnClicked}},[e._v(`
							`+e._s(e._f("utl")("ecommerce.settings.dine_in.edit_action"))+`
						`)])],1)]:[t("o-button",{directives:[{name:"hovertip",rawName:"v-hovertip",value:e.setupHovertip,expression:"setupHovertip"}],attrs:{id:"setup-qr-codes","data-testid":"setup-qr-codes",variant:"secondary",disabled:!e.address.isValid||!e.locationCanEnableSSO},on:{click:e.openDineInSetupWizard}},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.set_up_qr_codes"))+`
					`)])]],2)]),e._v(" "),t("div",{staticClass:"notice-container"},[e.isAddressEmpty?t("o-notice",{staticClass:"mt-2",attrs:{type:"warning"}},[e._v(`
				`+e._s(e.getDineInMissingAddressNoticeText)+`
				`),t("o-button",{staticClass:"align-right",attrs:{variant:"text"},on:{click:e.onEditAddress}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.pickup_and_delivery.missing_address_button_text"))+`
				`)])],1):e.address.isValid?e._e():t("o-notice",{staticClass:"mt-2",attrs:{type:"warning"}},[e._v(`
				`+e._s(e.getDineInInvalidAddressNotice)+`
				`),t("o-button",{staticClass:"align-right",attrs:{variant:"text"},on:{click:e.onEditAddress}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.pickup_and_delivery.invalid_address_confirm_button_text"))+`
				`)])],1),e._v(" "),e.hasQrCodeError?t("o-notice",{staticClass:"mt-2",attrs:{type:"warning"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.default_error"))+`
			`)]):e._e(),e._v(" "),e.isActive&&!e.simple?[t("div",{staticClass:"toggle-wrapper"},[t("async-toggle",{directives:[{name:"hovertip",rawName:"v-hovertip",value:e.toggleHovertip,expression:"toggleHovertip"}],attrs:{"data-testid":"dinein-toggle","on-change":e.onToggleDineIn,label:e.getDineInToggleLabel,checked:e.isDineInEnabled,disabled:!e.locationCanEnableSSO}})],1)]:e._e(),e._v(" "),e.isActive?t("div",{staticClass:"customize-site-cta-container"},[t("o-button",{attrs:{variant:"secondary"},on:{click:e.onGoToWebsite}},[t("o-icon",{attrs:{name:"arrow-external"}}),e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.customize_site_design_cta"))+`
				`)],1)],1):t("div",{staticClass:"setup-sso-cta-container"},[t("div",[e._v(" "+e._s(e.getDineInNoQrCodeCTA))]),e._v(" "),t("o-button",{attrs:{variant:"text"},on:{click:e.onGoToWebsite}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.no_qr_code_site_builder_cta_part_two"))+`
				`)])],1)],2)])])},k=[],P=n(2),A=n(120),w=n(31),Oe=n(231),D=n(349),M=n(34),R=n(79),U=n(180),je=n(354),Hs=n(884),Ws=n(236),F=n(108),zs=n(1311),Vs=n(145),Ks=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-blade",{ref:"dineInSettingsBlade",attrs:{title:e.title,backdrop:!0}},[t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:e.previewQrCode}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.preview_qr_code"))+`
		`)])],1),e._v(" "),e.canUseSSOBusinessHours?t("div",[t("dine-in-blade-section",{staticClass:"dine-in-hours-section",attrs:{title:e.getDineInBusinessHoursLabel},on:{"edit:click":e.onEditBusinessHoursClick}},[t("time-range-week-readonly",{attrs:{"hours-by-day":e.businessHours}})],1),e._v(" "),t("o-divider")],1):e._e(),e._v(" "),t("dine-in-blade-section",{staticClass:"dine-in-stations-section",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.ordering_cards_label")},on:{"edit:click":e.onEditStationGroupClick}},e._l(e.seatGroups,function(i,v){return t("dine-in-blade-setting-row",{key:v,attrs:{label:i.name,value:e.seatGroupCopy(i)}})}),1),e._v(" "),t("o-divider"),e._v(" "),t("dine-in-blade-section",{staticClass:"dine-in-messaging-section",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.sso_messaging")},on:{"edit:click":e.onEditBannerClick}},[e._v(`
		`+e._s(e._f("utl")("ecommerce.settings.dine_in.sso_messaging_subtext"))+`
	`)]),e._v(" "),t("o-divider"),e._v(" "),e.canUseSSOSMSPickupAlerts?t("dine-in-blade-section",{staticClass:"dine-in-sms-alert-section",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.blade_sms_alert_settings_title")},on:{"edit:click":e.onTextMessageAlertEditClick}},[t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.blade_sms_alert_settings_order_received_label"),value:e.smsOrderReceivedText}}),e._v(" "),t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.blade_sms_alert_settings_order_ready_label"),value:e.smsOrderPreparedText}})],1):e._e(),e._v(" "),e.canUseSSOSMSPickupAlerts?t("o-divider"):e._e(),e._v(" "),t("dine-in-blade-section",{staticClass:"dine-in-stations-section",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.wizard_settings_step_title"),"hide-header-slot":!0}},[e.hasAccessToOpenTabs?t("dine-in-blade-subsection",{staticClass:"open-tabs-subsection",attrs:{"hide-header-slot":!0}},[t("div",{staticClass:"open-tab-options"},[t("div",{staticClass:"open-tab-labels"},[t("p",{staticClass:"open-tabs-header"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_toggle_label"))+`
						`),e.shouldShowOpenTabsAdvert?t("o-tag",{attrs:{type:"success",size:"small"}},[e._v(`
							`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_toggle_advert_pill"))+`
						`)]):e._e()],1),e._v(" "),t("p",[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_toggle_description"))+`
						`),t("a",{attrs:{id:"learn_more",href:"https://squareup.com/help/article/7680-self-serve-ordering-open-tabs-with-square-online",target:"_blank",rel:"noopener noreferrer"}},[e._v(`
							`+e._s(e._f("utl")("ecommerce.common.learn_more_link"))+`
						`)])])]),e._v(" "),t("o-toggle",{attrs:{checked:e.shouldAllowOpenTabOrders,disabled:e.isOpenTabsSaving},on:{"toggle:update":e.onOpenTabToggleChange}})],1)]):e._e(),e._v(" "),e.showOrderConsolidation?t("dine-in-blade-subsection",{staticClass:"open-tabs-subsection",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_title")},on:{"edit:click":e.onEditTicketSettingsClick}},[t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_label"),value:e.ticketTimingStatus}})],1):e._e(),e._v(" "),t("dine-in-blade-subsection",{staticClass:"alcohol-subsection",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_title")},on:{"edit:click":e.onEditAlcoholSettingsClick}},[t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_serving_alcohol_label"),value:e.servingAlcoholStatus}}),e._v(" "),t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_alcohol_limit_label"),value:e.servingAlcoholLimit}})],1),e._v(" "),t("dine-in-blade-subsection",{staticClass:"alcohol-subsection",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_title")},on:{"edit:click":e.onEditServiceFeeClick}},[t("dine-in-blade-setting-row",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.service_fee_amount"),value:e.serviceFee}})],1)],1)],2)},Qs=[],Zs=n(87),Pe=n(100),q=n(202),qs=n(204),Xs=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"readonly-hours-wrapper"},e._l(e.dayOfWeekKeys,function(i){return t("time-range-day-readonly",{key:i,attrs:{"day-key":i,"time-ranges":e.hoursByDay[i]}})}),1)},Ys=[],G=n(85),Js=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"time-range-day-row"},[t("b",{staticClass:"day-label"},[e._v(e._s(e.dayLabel))]),e._v(" "),t("div",{staticClass:"time-ranges-column"},[e._l(e.timeRanges,function(i,v){return t("span",{key:v},[e._v(`
			`+e._s(e.mapOpenCloseHoursString(i))+`
		`)])}),e._v(" "),e.timeRanges.length===0?t("span",[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.none"))+`
		`)]):e._e()],2)])},en=[],Ie=n(81),tn={name:"TimeRangeDayReadonly",props:{dayKey:{type:String,required:!0},timeRanges:{type:Array,required:!0,validator:e=>e.length===0?!0:e.every(s=>Object(P.has)(s,"open")&&Object(P.has)(s,"close"))}},computed:{dayLabel(){return G.b[this.dayKey]}},methods:{mapOpenCloseHoursString(e){const s=Object(Ie.b)(e.open.substring(0,5)),t=Object(Ie.b)(e.close.substring(0,5));return`${s} - ${t}`}}},sn=tn,Xc=n(1807),E=n(21),nn=Object(E.a)(sn,Js,en,!1,null,"0f08e82b",null),_n=nn.exports;const rn={[G.a[0]]:[{open:"09:00:00",close:"17:00:00"}],[G.a[1]]:[{open:"09:00:00",close:"17:00:00"}],[G.a[2]]:[{open:"09:00:00",close:"17:00:00"}],[G.a[3]]:[{open:"09:00:00",close:"17:00:00"}],[G.a[4]]:[{open:"09:00:00",close:"17:00:00"}],[G.a[5]]:[{open:"09:00:00",close:"17:00:00"}],[G.a[6]]:[{open:"09:00:00",close:"17:00:00"}]};var an={name:"TimeRangeWeekReadonly",components:{TimeRangeDayReadonly:_n},props:{hoursByDay:{type:Object,required:!1,default:()=>rn}},data(){return{dayOfWeekKeys:G.a}}},on=an,ln=Object(E.a)(on,Xs,Ys,!1,null,null,null),dn=ln.exports;const cn=["SUN","MON","TUE","WED","THU","FRI","SAT"],Ce=e=>{const{periods:s=[],timezone:t=null}=JSON.parse(e),i={};return cn.forEach(v=>{i[v]=[]}),s.forEach(v=>{i[v.day_of_week].push({open:v.start_local_time,close:v.end_local_time})}),{hours:i,timezone:t}},Yc="delivery",Ee=2e3,Le=1100,un=100,z={NONE:1,FLAT:2,PERCENTAGE:3},pn=200,mn=100,vn=100,gn=500,fn=500,hn=500,re=0,xe=1,bn=2,le=Object(_.utl)("ecommerce.settings.dine_in.menu_banner_default"),de=Object(_.utl)("ecommerce.settings.dine_in.checkout_banner_default"),Te=Object(_.utl)("ecommerce.settings.dine_in.resumption_banner_default"),we="https://squareup.com/help/article/7142-set-up-self-serve-ordering-and-qr-codes-with-square-online",De=1e8,Ae={name:Object(_.utl)("ecommerce.settings.dine_in.default_station_name"),has_station_group_names:!0,numbering_starts_at:1,seat_label:Object(_.utl)("ecommerce.settings.dine_in.default_station_label")},Me=10,Sn="PICKUP",yn="DELIVERY",On="SELF_SERVE",jn="SQ_BUSINESS_HOURS",X="America/Los_Angeles",te={[Sn]:{translation:Object(_.utl)("ecommerce.settings.dine_in.pickup_hours"),getHoursFromLocation:e=>e.pickup_hours,getTimeZoneFromLocation:e=>e.pickup_timezone||X},[yn]:{translation:Object(_.utl)("ecommerce.settings.dine_in.delivery_hours"),getHoursFromLocation:e=>e.delivery_hours,getTimeZoneFromLocation:e=>e.pickup_timezone||X},[On]:{translation:Object(_.utl)("ecommerce.settings.dine_in.qr_code_hours"),getHoursFromLocation(e){return e.dine_in_settings?e.dine_in_settings.business_hours:null},getTimeZoneFromLocation(e){return e.dine_in_settings?e.dine_in_settings.timezone:X}},[jn]:{translation:Object(_.utl)("ecommerce.settings.dine_in.sq_business_hours"),getHoursFromLocation(e){return e.square_business_hours?Ce(e.square_business_hours).hours:null},getTimeZoneFromLocation(e){return e.square_business_hours&&Ce(e.square_business_hours).timezone||X}}};var Pn=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-sheet",e._g({attrs:{title:e.getDineInSetBusinessHoursLabel,backdrop:"","content-width":"large"},scopedSlots:e._u([{key:"actions",fn:function(i){return[t("o-button",{attrs:{variant:"primary",disabled:e.disableSaveButton},on:{click:function(v){return e.submit(i)}}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.done"))+`
		`)])]}}])},e.$listeners),[e._v(" "),t("business-hours-form",{attrs:{hours:e.hours,timezone:e.timezone,"current-location-id":e.location.pickupLocationId},on:{"update:hours":e.updateHours,"update:timezone":e.updateTimezone}})],1)},In=[],Cn=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",[t("p",{staticClass:"subline"},[e._v(`
		`+e._s(e.getDineInBusinessHoursDescriptionLabel)+`
	`)]),e._v(" "),e.displayLocationsToSeedFrom?t("div",{staticClass:"import-hours-section"},[t("p",{staticClass:"label"},[e._v(`
			`+e._s(e.importHoursLabel)+`
		`)]),e._v(" "),t("div",{staticClass:"select-wrapper"},[e.hasMoreThanOneLocation?t("o-select",{staticClass:"select-location-dropdown",attrs:{options:e.locationSelectOptions},on:{"select:update":e.selectLocation},model:{value:e.selectedLocationId,callback:function(i){e.selectedLocationId=i},expression:"selectedLocationId"}}):e._e(),e._v(" "),e.selectedLocation?t("o-select",{staticClass:"select-hours-dropdown",attrs:{options:e.hourTypeSelectOptions},on:{"select:update":e.seedHours},model:{value:e.selectedHoursType,callback:function(i){e.selectedHoursType=i},expression:"selectedHoursType"}}):e._e()],1)]):e._e(),e._v(" "),t("time-range-week",{staticClass:"time-range-week",attrs:{"increment-suggestions-by":5,"hours-by-day":e.hours},on:{"update:hours":e.updateHours}}),e._v(" "),t("time-zone-form-item",{staticClass:"timezone-form",attrs:{value:e.timezone,title:e._f("utl")("ecommerce.components.address_manager.location_label")},on:{input:e.updateTimeZone}})],1)},En=[],H=n(179),ce=n(122),Be=n(1028),Ln=n(1298),xn=Object.defineProperty,Tn=Object.defineProperties,wn=Object.getOwnPropertyDescriptors,Re=Object.getOwnPropertySymbols,Dn=Object.prototype.hasOwnProperty,An=Object.prototype.propertyIsEnumerable,Fe=(e,s,t)=>s in e?xn(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ke=(e,s)=>{for(var t in s||(s={}))Dn.call(s,t)&&Fe(e,t,s[t]);if(Re)for(var t of Re(s))An.call(s,t)&&Fe(e,t,s[t]);return e},Mn=(e,s)=>Tn(e,wn(s)),Bn={name:"BusinessHoursForm",components:{OSection:H.OSection,OSelect:ce.OSelect,TimeRangeWeek:Be.a,TimeZoneFormItem:Ln.a},props:{hours:{type:Object,required:!1,default:()=>{}},currentLocationId:{type:String,required:!1,default:void 0},displayLocationsToSeedFrom:{type:Boolean,required:!1,default:!1},timezone:{type:String,default:X}},data(){return{selectedLocation:void 0,selectedLocationId:void 0,selectedHoursType:void 0}},computed:Mn(ke(ke({},Object(a.mapState)(r.F,{locationsById:"storeLocationsById"})),Object(a.mapGetters)(r.e,{getDineInBusinessHoursDescriptionLabel:"getDineInBusinessHoursDescriptionLabel"})),{importHoursLabel(){return this.hasMoreThanOneLocation||!this.selectedLocation?Object(_.utl)("ecommerce.settings.dine_in.import_hours_from_location"):Object(_.utl)("ecommerce.settings.dine_in.import_hours_from_provided_location",this.selectedLocation.display_name)},hasMoreThanOneLocation(){return Object.keys(this.locationsById).length>1},locationSelectOptions(){return Object.keys(this.locationsById).map(e=>({value:e,label:this.locationsById[e].display_name}))},hourTypeSelectOptions(){return!this.selectedLocation||!this.displayLocationsToSeedFrom?[]:Object.keys(te).map(e=>this.hasAtLeastOneRange(te[e].getHoursFromLocation(this.selectedLocation))?(this.selectedHoursType||(this.selectedHoursType=e,this.seedHours(e)),{value:e,label:te[e].translation}):!1).filter(e=>!!e)}}),mounted(){this.selectedLocationId=this.currentLocationId,this.selectedLocation=this.locationsById[this.selectedLocationId]},methods:{updateHours(e){const s=this.hasAtLeastOneRange(e);this.$emit("update:hours",e,s)},hasAtLeastOneRange:e=>e&&!G.a.every(s=>e[s]&&e[s].length===0),selectLocation(e){this.selectedHoursType=null,this.selectedLocation=this.locationsById[e]},seedHours(e){this.updateHours(te[e].getHoursFromLocation(this.selectedLocation)),this.updateTimeZone(te[e].getTimeZoneFromLocation(this.selectedLocation))},updateTimeZone(e){this.$emit("update:timezone",e)},submit(e){e.close()}}},Rn=Bn,Jc=n(1808),Fn=Object(E.a)(Rn,Cn,En,!1,null,null,null),Ge=Fn.exports,kn=Object.defineProperty,Gn=Object.defineProperties,Nn=Object.getOwnPropertyDescriptors,Ne=Object.getOwnPropertySymbols,Un=Object.prototype.hasOwnProperty,$n=Object.prototype.propertyIsEnumerable,Ue=(e,s,t)=>s in e?kn(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,$e=(e,s)=>{for(var t in s||(s={}))Un.call(s,t)&&Ue(e,t,s[t]);if(Ne)for(var t of Ne(s))$n.call(s,t)&&Ue(e,t,s[t]);return e},Hn=(e,s)=>Gn(e,Nn(s)),Wn=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),zn={name:"SSOBusinessHoursSheet",components:{OSheet:U.OSheet,OButton:w.OButton,BusinessHoursForm:Ge},props:{location:{type:Object,required:!0}},data(){return{hours:this.businessHours,timezone:void 0,disableSaveButton:!1}},computed:$e({},Object(a.mapGetters)(r.e,{getDineInSetBusinessHoursLabel:"getDineInSetBusinessHoursLabel"})),mounted(){this.hours=Object(P.get)(this.location,"dine_in_settings.business_hours",{}),this.timezone=Object(P.get)(this.location,"dine_in_settings.timezone",void 0)},methods:Hn($e({},Object(a.mapActions)(r.e,["createOrUpdateDineInSettings"])),{updateHours(e,s){this.hours=e,this.disableSaveButton=!s},updateTimezone(e){this.timezone=e},submit(e){return Wn(this,null,function*(){yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:{business_hours:this.hours,timezone:this.timezone}}),e.close()})}})},Vn=zn,Kn=Object(E.a)(Vn,Pn,In,!1,null,null,null),Qn=Kn.exports,Zn=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-sheet",e._g({attrs:{title:e.getDineInTitleLabel,backdrop:"","content-width":"large"},scopedSlots:e._u([{key:"actions",fn:function(i){return[t("o-button",{attrs:{variant:"primary"},on:{click:i.close}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.done"))+`
		`)])]}}])},e.$listeners),[e._v(" "),e.sheetError?t("o-notice",{staticClass:"sheet-notice",attrs:{type:"error"}},[e._v(`
		`+e._s(e.sheetError)+`
	`)]):e._e(),e._v(" "),t("seat-groups-section",{attrs:{"is-saving-seat-groups":e.isSavingSeatGroups,variant:"raised"},on:{"submit:addSeatGroup":e.handleAddSeatGroup,"submit:updateSeatGroup":e.handleUpdateSeatGroup,"submit:importSeatGroups":e.handleDuplicateSeatGroups,"click:delete":e.handleDeleteSeatGroup,"click:duplicate":e.handleDuplicateSeatGroups}})],1)},qn=[],Xn=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",{staticClass:"section",attrs:{variant:e.variant}},[t("div",{staticClass:"section-wrapper"},[t("o-grid",[t("o-grid-item",{attrs:{span:12,"tablet-landscape":12}},[t("div",[t("p",{staticClass:"setup-desc"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.dine_in_setup_description"))+`
					`)]),e._v(" "),e.tableIsVisible?t("seat-groups-table",{staticClass:"station-groups-table",attrs:{"table-data":e.seatGroups},on:{"click:add":e.openSeatGroupModal,"click:row":e.openSeatGroupModal,"click:delete":e.handleDeleteClick,"click:duplicate":e.duplicateSeatGroup}}):e._e(),e._v(" "),t("div",{staticClass:"actions-wrapper"},[e.tableIsVisible?e._e():t("o-button",{staticClass:"add-section-button",attrs:{variant:"secondary"},on:{click:function(){return e.openSeatGroupModal()}}},[e._v(`
							`+e._s(e._f("utl")("ecommerce.settings.dine_in.add_section_button"))+`
						`)]),e._v(" "),e.shouldShowImportButton?t("o-button",{on:{click:function(){return e.openImportSeatGroupsModal()}}},[e._v(`
							`+e._s(e._f("utl")("ecommerce.settings.dine_in.import_sections_button"))+`
						`)]):e._e()],1)],1)])],1),e._v(" "),e.isSavingSeatGroups?t("div",{staticClass:"overlay"},[t("o-loading",{staticClass:"loading"})],1):e._e()],1)])},Yn=[],V=n(61),ae=n(69),Jn=n(24),e_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",e._g({ref:"modal",attrs:{cancelable:""}},e.$listeners),[t("o-modal-pane",{ref:"pane",attrs:{title:e._f("utl")("ecommerce.settings.dine_in.station_group_modal_title")},on:{scroll:e.handleScroll}},[e.hasModalError?t("o-notice",{staticClass:"error-notice",attrs:{type:"error"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.unexpected_error_message"))+`
		`)]):e._e(),e._v(" "),t("o-form",{on:{submit:function(i){i.preventDefault()}}},[t("o-form-item",{attrs:{errors:e.form.name.errors}},[t("template",{slot:"label"},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.label_station_group_name"))+`

					`),t("o-icon",{directives:[{name:"hovertip",rawName:"v-hovertip",value:e.utl("ecommerce.settings.dine_in.seat_group_name_placeholder"),expression:"utl('ecommerce.settings.dine_in.seat_group_name_placeholder')"}],attrs:{name:"circle-question-mark",tabindex:"0"}})],1),e._v(" "),t("o-input",{staticClass:"medium-input",attrs:{placeholder:e.utl("ecommerce.settings.dine_in.seat_group_name_placeholder")},model:{value:e.seatGroup.name,callback:function(i){e.$set(e.seatGroup,"name",i)},expression:"seatGroup.name"}}),e._v(" "),t("o-toggle",{staticClass:"station-name-toggle",model:{value:e.seatGroup.has_station_group_names,callback:function(i){e.$set(e.seatGroup,"has_station_group_names",i)},expression:"seatGroup.has_station_group_names"}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.label_station_group_name_toggle"))+`
				`)])],2),e._v(" "),t("o-form-item",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.label_station_name"),errors:e.form.seat_label.errors}},[t("o-input",{staticClass:"medium-input",attrs:{placeholder:e._f("utl")("ecommerce.settings.dine_in.seat_label_placeholder")},model:{value:e.seatGroup.seat_label,callback:function(i){e.$set(e.seatGroup,"seat_label",i)},expression:"seatGroup.seat_label"}})],1),e._v(" "),t("o-form-item",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.label_station_name_number"),errors:e.seatCountErrors}},[t("o-input",{staticClass:"small-input",attrs:{type:"number"},model:{value:e.seatCount,callback:function(i){e.seatCount=e._n(i)},expression:"seatCount"}})],1),e._v(" "),t("o-form-item",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.label_station_name_start_numbering"),errors:e.form.numbering_starts_at.errors}},[t("o-input",{staticClass:"small-input",attrs:{type:"number",disabled:e.startNumberingInputDisabled},model:{value:e.seatGroup.numbering_starts_at,callback:function(i){e.$set(e.seatGroup,"numbering_starts_at",e._n(i))},expression:"seatGroup.numbering_starts_at"}})],1),e._v(" "),t("o-form-item",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.label_station_names"),sublabel:e._f("utl")("ecommerce.settings.dine_in.station_names_description")}}),e._v(" "),e._l(e.seatNames,function(i,v){return t("o-form-item",{key:v,attrs:{errors:e.seatNameErrors[v]}},[t("div",{staticClass:"station-name-input"},[t("div",{staticClass:"station-number"},[e._v(`
						`+e._s(v+1)+`
					`)]),e._v(" "),t("o-input",{staticClass:"medium-input",class:{disabled:e.isSeatInputDisabled(v)},attrs:{disabled:e.isSeatInputDisabled(v)},model:{value:e.seatNames[v],callback:function(C){e.$set(e.seatNames,v,C)},expression:"seatNames[index]"}}),e._v(" "),e.shouldShowResetButton(v)?t("o-button",{staticClass:"reset-button",attrs:{variant:"muted"},on:{click:function(C){return e.resetLabelClick(v)}}},[e._v(`
						`+e._s(e._f("utl")("ecommerce.common.reset"))+`
					`)]):e._e()],1)])}),e._v(" "),e.isLoadingList?t("o-loading",{staticClass:"loader"}):e._e()],2),e._v(" "),t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.modal.close(!1)}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.cancel"))+`
			`)]),e._v(" "),t("o-button",{attrs:{variant:"primary",disabled:e.isLoading},on:{click:e.handleSave}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.save"))+`
			`)])],1),e._v(" "),e.isLoading?t("div",{staticClass:"overlay"},[t("o-loading",{staticClass:"loader"})],1):e._e()],2)],1)},t_=[],W=n(30),$=n(32),s_=n(49),n_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-alert",e._g({ref:"alert",attrs:{"before-close":e.beforeClose,cancelable:"",title:e.translations.alertTitle}},e.$listeners),[t("p",[e._v(e._s(e.alertBodyText))]),e._v(" "),t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.alert.close(!1)}}},[e._v(`
			`+e._s(e.translations.alertCancelButton)+`
		`)]),e._v(" "),t("o-button",{attrs:{variant:"primary"},on:{click:function(i){return e.$refs.alert.close(!0)}}},[e._v(`
			`+e._s(e.translations.alertSaveButton)+`
		`)])],1)],2)},__=[],ue=n(134);const He={alertTitle:Object(_.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_title"),alertBodySingular:Object(_.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_body_singular"),alertBodyPluralTwo:Object(_.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_body_plural_two"),alertBodyPluralMulti:Object(_.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_body_plural_multi"),alertSaveButton:Object(_.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_save_buton"),alertCancelButton:Object(_.utl)("ecommerce.settings.dine_in.deactive_qr_code_alert_cancel_buton")};var i_={name:"DeactivateQRcodesAlert",components:{OButton:w.OButton,OAlert:R.OAlert},props:{originalCount:{type:Number,required:!0},newCount:{type:Number,required:!0}},data(){return{translations:He}},computed:{alertBodyText(){const{originalCount:e,newCount:s}=this,{alertBodySingular:t,alertBodyPluralTwo:i,alertBodyPluralMulti:v}=He;switch(e-s){case 1:return Object(ue.sprintf)(t,{newCount:s,originalCount:e,deletedStationNum:e});case 2:return Object(ue.sprintf)(i,{newCount:s,originalCount:e,lowerBound:s+1,upperBound:e});default:return Object(ue.sprintf)(v,{newCount:s,originalCount:e,lowerBound:s+1,upperBound:e})}}},methods:{beforeClose(e,s){s(e)}}},r_=i_,a_=Object(E.a)(r_,n_,__,!1,null,null,null),o_=a_.exports,l_=Object.defineProperty,d_=Object.defineProperties,c_=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,u_=Object.prototype.hasOwnProperty,p_=Object.prototype.propertyIsEnumerable,ze=(e,s,t)=>s in e?l_(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,se=(e,s)=>{for(var t in s||(s={}))u_.call(s,t)&&ze(e,t,s[t]);if(We)for(var t of We(s))p_.call(s,t)&&ze(e,t,s[t]);return e},pe=(e,s)=>d_(e,c_(s)),ne=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),m_={components:{OModal:f.OModal,OModalPane:f.OModalPane,OForm:$.OForm,OFormItem:$.OFormItem,OButton:w.OButton,OInput:s_.OInput,OToggle:q.OToggle,OIcon:M.OIcon,OLoading:ae.OLoading,ONotice:O.ONotice},directives:{Hovertip:D.OHovertip},inject:{alertLayer:R.AlertLayer},props:{selectedGroup:{type:Object,default:null},seatGroupName:{type:String,default:""}},data(){return{seatNames:[],seatNameErrors:[],seatCountErrors:[],seatGroup:{},isLoading:!1,isLoadingList:!1,hasModalError:!1,seatCount:0,seatCountOriginal:0,seatsCurrentPage:0,seatsTotalPages:0,form:{name:{errors:[],validators:[Object(W.p)(Object(_.utl)("ecommerce.settings.dine_in.seat_group_name_missing_error"))]},numbering_starts_at:{errors:[],validateIf:()=>!this.startNumberingInputDisabled,validators:[Object(W.p)(Object(_.utl)("ecommerce.settings.errors.please_number_greater_then_zero")),Object(W.h)(Object(_.utl)("ecommerce.settings.errors.please_number_greater_then_zero")),Object(W.e)(Object(_.utl)("ecommerce.settings.errors.please_number_greater_then_zero"))]},seat_label:{errors:[],validators:[Object(W.p)(Object(_.utl)("ecommerce.settings.dine_in.seat_label_missing_error"))]}}}},computed:{startNumberingInputDisabled(){return this.seatNames.some((e,s)=>this.isNameCustomized(s))},defaultLabels(){const e=[],s=this.seatGroup.has_station_group_names?Object(_.utl)("ecommerce.settings.dine_in.auto_seat_label",this.seatGroup.name,this.seatGroup.seat_label):this.seatGroup.seat_label;for(let t=0;t<this.seatCount;t+=1)e.push(`${s} ${this.seatGroup.numbering_starts_at+t}`);return e},infiniteLoaderIsActive(){return this.seatNames.length<this.seatCount},shouldShowDeactivationAlert(){return this.selectedGroup&&this.seatCount<this.seatCountOriginal}},watch:{defaultLabels(e,s){this.seatNames=this.seatNames.map((t,i)=>t!==s[i]?t:e[i]||t)},"seatGroup.name":function(){Object(W.a)(this.form.name)},"seatGroup.numbering_starts_at":function(){Object(W.a)(this.form.numbering_starts_at)},"seatGroup.seat_label":function(){Object(W.a)(this.form.seat_label)},seatCount(){this.seatCountErrors=[]},seatNames(){this.seatNameErrors=[]}},mounted(){return ne(this,null,function*(){if(this.selectedGroup){this.initializeSeatGroup();return}this.initializeWithDefaultValues()})},methods:pe(se({utl:_.utl},Object(a.mapActions)(r.e,["fetchSeatGroup"])),{handleScroll(e){const s=e.target;s.scrollTop===s.scrollHeight-s.offsetHeight&&this.loadNextPageOfSeats()},initializeWithDefaultValues(){this.seatGroup=pe(se({},Ae),{name:this.seatGroupName||Ae.name}),this.seatCount=Me,this.loadNextPageOfSeats()},getSeatGroupData(e=1){return ne(this,null,function*(){try{this.hasModalError=!1;const s=yield this.fetchSeatGroup({id:this.selectedGroup.id,page:e});return this.seatsCurrentPage=Object(P.get)(s,"pagination.current_page"),this.seatsTotalPages=Object(P.get)(s,"pagination.total_pages"),s}catch(s){this.hasModalError=!0}return null})},initializeSeatGroup(){return ne(this,null,function*(){try{this.isLoading=!0,this.seatGroup=yield this.getSeatGroupData(),this.seatCount=this.seatGroup.total_seats,this.seatCountOriginal=this.seatCount,this.seatNames=this.seatGroup.seats.map(e=>this.getSeatLabel(e))}finally{this.isLoading=!1}})},loadNextPageOfSeats(){return ne(this,null,function*(){if(!this.infiniteLoaderIsActive||this.isLoadingList)return;const e=this.seatsCurrentPage<this.seatsTotalPages;if(this.selectedGroup&&e){this.isLoadingList=!0;const{seats:t}=yield this.getSeatGroupData(this.seatsCurrentPage+1),i=t.map(v=>this.getSeatLabel(v));this.seatNames=this.seatNames.concat(i),this.seatGroup.seats=this.seatGroup.seats.concat(t),this.isLoadingList=!1;return}const s=this.defaultLabels.slice(this.seatNames.length,this.seatNames.length+Me);this.seatNames=this.seatNames.concat(s)})},isNameCustomized(e){return this.defaultLabels[e]&&this.seatNames[e]&&this.seatNames[e]!==this.defaultLabels[e]},shouldShowResetButton(e){return this.isNameCustomized(e)&&!this.isSeatInputDisabled(e)},resetLabelClick(e){this.seatNames=this.seatNames.map((s,t)=>t===e?this.defaultLabels[t]:s)},getSeatLabel(e){return e.name?this.seatGroup.has_station_group_names?Object(_.utl)("ecommerce.settings.dine_in.full_seat_label",this.seatGroup.name,this.seatGroup.seat_label,e.name):Object(_.utl)("ecommerce.settings.dine_in.short_seat_label",this.seatGroup.seat_label,e.name):e.type},isSeatInputDisabled(e){return e+1>this.seatCount},validateForm(){return Object(W.x)(this.form,this.seatGroup)&&this.validateSeatCount()&&this.valdidateSeatNames()},valdidateSeatNames(){return this.seatNames=this.seatNames.slice(0,this.seatCount),this.seatNameErrors=this.seatNames.map(e=>e?"":Object(_.utl)("ecommerce.settings.dine_in.seat_label_missing_error")),this.seatNameErrors.every(e=>!e)},validateSeatCount(){return this.seatCountError="",!this.seatCount||this.seatCount<1?(this.seatCountErrors=[Object(_.utl)("ecommerce.settings.errors.please_number_greater_then_zero")],!1):this.seatCount>Le?(this.seatCountErrors=[Object(_.utl)("ecommerce.settings.dine_in.seat_group_count_error",Le)],!1):!0},handleSave(){if(!!this.validateForm()){if(this.shouldShowDeactivationAlert){this.openDeactivationAlert();return}this.$refs.modal.close(this.formatSeatGroupData())}},formatSeatGroupData(){return pe(se({},this.seatGroup),{seat_count:this.seatCount,seats:this.seatNames.map((e,s)=>{const t=Object(P.get)(this.seatGroup,`seats[${s}]`,{});return se(se({},t),this.formatSeatData(e,s))})})},formatSeatData(e,s){return this.isNameCustomized(s)?{type:e,name:""}:{type:this.seatGroup.seat_label,name:this.seatGroup.numbering_starts_at+s}},openDeactivationAlert(){this.alertLayer.open(o_,{props:{originalCount:this.seatCountOriginal,newCount:this.seatCount},on:{close:e=>ne(this,null,function*(){e&&(yield this.$refs.modal.close(this.formatSeatGroupData()))})}})}})},v_=m_,eu=n(1809),g_=Object(E.a)(v_,e_,t_,!1,null,"c6fa58ee",null),f_=g_.exports,h_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("o-table",{attrs:{"row-data":e.tableData},on:{rowClick:e.handleRowClick}},[t("o-table-col",{attrs:{property:"name"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_section_name"))+`
		`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_count"},scopedSlots:e._u([{key:"formatter",fn:function(i){return[e._v(`
				`+e._s(i.data.total_seats)+`
			`)]}}])},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_total_seats"))+`
			`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_label"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_seat_label"))+`
		`)]),e._v(" "),t("o-table-col",{attrs:{align:"right"},scopedSlots:e._u([{key:"formatter",fn:function(i){return[t("o-popover",{scopedSlots:e._u([{key:"action",fn:function(v){return[t("o-icon",{attrs:{name:"more"},on:{click:function(C){return C.stopPropagation(),v.toggle()}}})]}},{key:"default",fn:function(v){return t("o-nav",{attrs:{variant:"menu"}},[e.deletionIsAllowed?t("o-nav-link",{on:{click:function(C){return e.handleDeleteClick(v,i.data.id)}}},[e._v(`
							`+e._s(e._f("utl")("ecommerce.common.delete"))+`
						`)]):e._e(),e._v(" "),t("o-nav-link",{on:{click:function(C){return e.handleDuplicateClick(v,i.data)}}},[e._v(`
							`+e._s(e._f("utl")("ecommerce.common.duplicate"))+`
						`)])],1)}}],null,!0)})]}}])})],1),e._v(" "),t("div",{staticClass:"add-section-link",on:{click:function(i){return e.$emit("click:add")}}},[e._v(`
		+ `+e._s(e._f("utl")("ecommerce.settings.dine_in.add_section_button"))+`
	`)])],1)},b_=[],Y=n(230),Ve=n(203),S_=n(147),y_={components:{OTable:Y.OTable,OTableCol:Y.OTableCol,OIcon:M.OIcon,ONav:Ve.ONav,ONavLink:Ve.ONavLink,OPopover:S_.OPopover},props:{tableData:{type:Array,default:()=>[]}},computed:{deletionIsAllowed(){return this.tableData&&this.tableData.length>1}},methods:{utl:_.utl,handleRowClick(e){this.$emit("click:row",e)},handleDeleteClick(e,s){this.$emit("click:delete",s),e.close()},handleDuplicateClick(e,s){this.$emit("click:duplicate",s),e.close()}}},O_=y_,tu=n(1810),j_=Object(E.a)(O_,h_,b_,!1,null,"a738c462",null),P_=j_.exports,I_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",e._g({ref:"modal"},e.$listeners),[t("o-modal-pane",{attrs:{title:e.utl("ecommerce.settings.dine_in.import_modal_header")}},[e._l(e.addresses,function(i){return t("div",{key:i.id,staticClass:"seat-groups"},[t("o-heading",{attrs:{size:"title-3"}},[e._v(`
				`+e._s(e._f("formatAddressName")(i))+`
			`)]),e._v(" "),t("o-table",{staticClass:"seat-groups-table",attrs:{"row-data":e.get(i,"location.dine_in_settings.seat_groups",[]),checked:e.checked}},[t("o-table-col",{attrs:{property:"name"}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_section_name"))+`
				`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_count"},scopedSlots:e._u([{key:"formatter",fn:function(v){return[e._v(`
						`+e._s(v.data.total_seats)+`
					`)]}}],null,!0)},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_total_seats"))+`
					`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_label"}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_seat_label"))+`
				`)])],1)],1)}),e._v(" "),t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.modal.close("Cancel")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.cancel"))+`
			`)]),e._v(" "),t("o-button",{attrs:{variant:"primary"},on:{click:function(i){return e.$refs.modal.close(e.checked)}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.import_button_label"))+`
			`)])],1)],2)],1)},C_=[],E_={components:{OButton:w.OButton,OModal:f.OModal,OModalPane:f.OModalPane,OTable:Y.OTable,OTableCol:Y.OTableCol,OHeading:A.OHeading},filters:{formatAddressName:_.formatAddressName},props:{addresses:{type:Array,required:!0}},data(){return{checked:[]}},methods:{utl:_.utl,get:P.get}},L_=E_,su=n(1811),x_=Object(E.a)(L_,I_,C_,!1,null,"7cf77e48",null),T_=x_.exports,w_=Object.defineProperty,D_=Object.defineProperties,A_=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,M_=Object.prototype.hasOwnProperty,B_=Object.prototype.propertyIsEnumerable,Qe=(e,s,t)=>s in e?w_(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,me=(e,s)=>{for(var t in s||(s={}))M_.call(s,t)&&Qe(e,t,s[t]);if(Ke)for(var t of Ke(s))B_.call(s,t)&&Qe(e,t,s[t]);return e},Ze=(e,s)=>D_(e,A_(s)),R_={name:"SeatGroupsSection",components:{OButton:w.OButton,OSection:H.OSection,OGrid:V.OGrid,OGridItem:V.OGridItem,SeatGroupsTable:P_,OLoading:ae.OLoading},directives:{Hovertip:D.OHovertip},inject:{modalLayer:f.ModalLayer},props:{isSavingSeatGroups:{type:Boolean,default:!1},variant:{type:String,default:"normal"}},data(){return{isLoadingSeatGroup:!1}},computed:Ze(me(me({},Object(a.mapGetters)("storefront",{userLang:"getUserLang",isSiteInMetricUnits:"isSiteUsingMetricUnits",siteLogo:"siteLogo",siteTitle:"siteTitle"})),Object(a.mapGetters)(r.e,{location:"stagedStoreLocationClone",addresses:"storeAddressesWithLocation"})),{seatGroups(){return Object(P.get)(this.location,"dine_in_settings.seat_groups",[])},addressesWithImportableSeatGroups(){return this.addresses.filter(e=>e.storeAddressId!==this.location.storeAddressId&&Object(P.get)(e,"location.dine_in_settings.seat_groups.length"))},sampleQRCodeCard:{get(){const e=[Jn.s].includes(this.userLang)?`-${this.userLang}`:"";return Object(_.assetify)(`/images/commerce/store-app/app/dine-in/example-qr-station-card${e}.png`)}},tipText(){return Object(_.utl)("ecommerce.settings.dine_in.self_serve_card_setup_tip")},tableIsVisible(){return this.seatGroups.length>0},shouldShowImportButton(){return this.addressesWithImportableSeatGroups.length>0}}),created(){this.fetchSiteSnapshot()},methods:Ze(me({assetify:_.assetify},Object(a.mapActions)("storefront",["fetchSiteSnapshot"])),{getDefaultSeatGroupName(){let e=1,s=Object(_.utl)("ecommerce.settings.dine_in.default_station_name_with_number",e);const t=this.seatGroups.map(i=>i.name);for(;t.includes(s);)e+=1,s=Object(_.utl)("ecommerce.settings.dine_in.default_station_name_with_number",e);return s},openSeatGroupModal(e=null){this.modalLayer.open(f_,{props:{selectedGroup:e,seatGroupName:this.getDefaultSeatGroupName()},on:{close:s=>{if(!!s){if(s.id){this.updateSeatGroup(s);return}this.addSeatGroup(s)}}}})},openImportSeatGroupsModal(){this.modalLayer.open(T_,{props:{addresses:this.addressesWithImportableSeatGroups},on:{close:e=>{e.length&&this.$emit("submit:importSeatGroups",e)}}})},handleDeleteClick(e){this.$emit("click:delete",e)},addSeatGroup(e){this.$emit("submit:addSeatGroup",e)},updateSeatGroup(e){this.$emit("submit:updateSeatGroup",e)},duplicateSeatGroup(e){this.$emit("click:duplicate",e)}})},F_=R_,nu=n(1812),k_=Object(E.a)(F_,Xn,Yn,!1,null,"538aa5f6",null),qe=k_.exports,G_=Object.defineProperty,N_=Object.defineProperties,U_=Object.getOwnPropertyDescriptors,Xe=Object.getOwnPropertySymbols,$_=Object.prototype.hasOwnProperty,H_=Object.prototype.propertyIsEnumerable,Ye=(e,s,t)=>s in e?G_(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ve=(e,s)=>{for(var t in s||(s={}))$_.call(s,t)&&Ye(e,t,s[t]);if(Xe)for(var t of Xe(s))H_.call(s,t)&&Ye(e,t,s[t]);return e},Je=(e,s)=>N_(e,U_(s)),W_=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())});const J={data(){return{isSavingSeatGroups:!1,sheetError:""}},computed:Je(ve(ve({},Object(a.mapGetters)(r.e,{isSitePublished:"isCurrentSitePublished"})),Object(a.mapGetters)(["orderOnlineDeepLink"])),{isStoreOrderOnline(){return this.$store.state.storefront.isStoreOrderOnline}}),methods:Je(ve({},Object(a.mapActions)(r.e,["createSeatGroup","updateSeatGroup","deleteSeatGroup","duplicateSeatGroups"])),{canOpenPreviewQrCode(){return!this.isSitePublished||!this.isStoreOrderOnline},callWithErrorHandling(e,s){return W_(this,null,function*(){try{this.isSavingSeatGroups=!0,yield e(s)}catch(t){console.error(t)}finally{this.isSavingSeatGroups=!1}})},handleAddSeatGroup(e){return this.callWithErrorHandling(this.createSeatGroup,e)},handleDuplicateSeatGroups(e){return this.callWithErrorHandling(this.duplicateSeatGroups,e)},handleUpdateSeatGroup(e){return this.callWithErrorHandling(this.updateSeatGroup,e)},handleDeleteSeatGroup(e){return this.callWithErrorHandling(this.deleteSeatGroup,e)},onGoToWebsite(){const e=window.com_userID,s=this.$store.getters.selectedSite.site_id;window.location.href=`/app/website/users/${e}/sites/${s}/dashboard/editor`},enableOrderOnline(){this.$router.push({name:l.L,params:{url:this.orderOnlineDeepLink}})}})};var z_=Object.defineProperty,et=Object.getOwnPropertySymbols,V_=Object.prototype.hasOwnProperty,K_=Object.prototype.propertyIsEnumerable,tt=(e,s,t)=>s in e?z_(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Q_=(e,s)=>{for(var t in s||(s={}))V_.call(s,t)&&tt(e,t,s[t]);if(et)for(var t of et(s))K_.call(s,t)&&tt(e,t,s[t]);return e},Z_={name:"DineInSetupSheet",components:{OSheet:U.OSheet,OButton:w.OButton,ONotice:O.ONotice,SeatGroupsSection:qe},mixins:[J],computed:Q_({},Object(a.mapGetters)(r.e,{getDineInTitleLabel:"getDineInTitleLabel"}))},q_=Z_,_u=n(1813),X_=Object(E.a)(q_,Zn,qn,!1,null,"5e6a04b1",null),Y_=X_.exports,J_=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-sheet",e._g({attrs:{title:e._f("utl")("ecommerce.settings.dine_in.sso_messaging"),backdrop:"","content-width":"large"},scopedSlots:e._u([{key:"actions",fn:function(i){return[t("o-button",{attrs:{variant:"primary",loading:e.savingBanners,disabled:!e.hasValidBanners},on:{click:function(v){return e.submit(i)}}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.save"))+`
		`)])]}}])},e.$listeners),[e._v(" "),e.sheetError?t("o-notice",{staticClass:"sheet-notice",attrs:{type:"error"}},[e._v(`
		`+e._s(e.sheetError)+`
	`)]):e._e(),e._v(" "),t("edit-banner-section",{attrs:{"menu-banner":e.menuBanner,"checkout-banner":e.checkoutBanner,"unavailable-banner":e.unavailableBanner,"display-order-resumption":e.displayOrderResumption},on:{"update:menuBanner":e.handleMenuBannerChange,"update:checkoutBanner":e.handleCheckoutBannerChange,"update:unavailableBanner":e.handleUnavailableBannerChange,"update:showOrderResumption":e.handleOrderResumptionToggle,"toggle:isValid":e.setValidation}})],1)},ei=[],ti=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-grid",{staticClass:"mt-2"},[t("o-grid-item",{attrs:{span:12,"tablet-landscape":7}},[t("div",[t("o-form",[t("form-item",{attrs:{label:e._f("utl")("ecommerce.settings.dine_in.menu_banner_form_label"),"label-info":e._f("utl")("ecommerce.settings.dine_in.menu_banner_form_sublabel"),value:e.menuBanner,"learn-more-link":e.SELF_SERVE_HELP_ARTICLE_URL,"soft-limit":e.MENU_BANNER_SOFT_LIMIT,"hard-limit":e.MENU_BANNER_HARD_LIMIT,default:e.MENU_BANNER_DEFAULT},on:{input:e.handleMenuBannerChange,focus:function(){return e.onFocus(e.MENU_PREVIEW_PAGE)},"toggle:isValid":e.setValidation,"click:preview":e.openMenuPreviewInModal}}),e._v(" "),t("form-item",{staticClass:"mt-3",attrs:{label:e._f("utl")("ecommerce.settings.dine_in.checkout_banner_form_label"),"label-info":e._f("utl")("ecommerce.settings.dine_in.checkout_banner_form_sublabel"),value:e.checkoutBanner,"learn-more-link":e.SELF_SERVE_HELP_ARTICLE_URL,"soft-limit":e.CHECKOUT_BANNER_SOFT_LIMIT,"hard-limit":e.CHECKOUT_BANNER_HARD_LIMIT,default:e.CHECKOUT_BANNER_DEFAULT},on:{input:e.handleCheckoutBannerChange,focus:function(){return e.onFocus(e.CHECKOUT_PREVIEW_PAGE)},"toggle:isValid":e.setValidation,"click:preview":e.openCheckoutPreviewInModal}}),e._v(" "),e.canUseSSOBusinessHours?t("form-item",{staticClass:"mt-3",attrs:{label:e._f("utl")("ecommerce.settings.dine_in.resumption_banner_form_label"),"label-info":e.getDineInResumptionBannerFormSublabel,value:e.unavailableBanner,"learn-more-link":e.SELF_SERVE_HELP_ARTICLE_URL,"soft-limit":e.UNAVAILABLE_BANNER_SOFT_LIMIT,"hard-limit":e.UNAVAILABLE_BANNER_HARD_LIMIT,default:e.UNAVAILABLE_BANNER_DEFAULT},on:{input:e.handleUnavailableBannerChange,focus:function(){return e.onFocus(e.RESUMPTION_PREVIEW_PAGE)},"toggle:isValid":e.setValidation,"click:preview":e.openCheckoutPreviewInModal}}):e._e(),e._v(" "),e.canUseSSOBusinessHours?t("div",{staticClass:"resumption-toggle"},[t("p",[e._v(e._s(e.getDineInShowWhenOrdersResumeLabel))]),e._v(" "),t("o-toggle",{on:{click:function(i){return e.onFocus(e.RESUMPTION_PREVIEW_PAGE)},"toggle:update":e.handleShowResumptionToggle},model:{value:e.toggleValue,callback:function(i){e.toggleValue=i},expression:"toggleValue"}})],1):e._e()],1)],1)]),e._v(" "),t("o-grid-item",{staticClass:"banner-preview",attrs:{span:12,"tablet-landscape":5}},[t("mobile-preview",{attrs:{"visible-page":e.currentPreview,"menu-banner":e.menuBanner,"checkout-banner":e.checkoutBanner,"unavailable-banner":e.unavailableBanner,"display-order-resumption":e.displayOrderResumption,"enable-slider":!1}})],1)],1)},si=[],ni=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"phone-frame"},[t("div",{staticClass:"screen-wrapper"},[t("div",{ref:"slider",staticClass:"screen-slider",style:e.sliderStyle},e._l(e.screens,function(i,v){return t("div",{key:v,staticClass:"phone-screen"},[t("div",{staticClass:"phone-nav"},[e.siteLogo?t("img",{staticClass:"nav-logo",attrs:{src:e.siteLogo}}):t("o-heading",{attrs:{size:"title-4"}},[e._v(`
							`+e._s(e.siteTitle)+`
						`)])],1),e._v(" "),t(i.component,e._b({tag:"component",attrs:{banner:i.banner}},"component",i.props,!1))],1)}),0)])]),e._v(" "),e.enableSlider?t("div",{staticClass:"slider-position"},e._l(e.screens.length,function(i){return t("div",{key:i,staticClass:"position-indicator",class:{active:i-1==e.visiblePage}})}),0):e._e()])},_i=[],ii=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("banner",{attrs:{"banner-text":e.banner,"banner-subline-text":e.bannerSublineText,"show-station":e.showStation,focused:e.activeBorder}}),e._v(" "),t("div",{staticClass:"category-header preview-separator"},[t("o-heading",{attrs:{size:"title-4"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.item_filtering_modal.categories_title"))+`
		`)])],1),e._v(" "),e._l(3,function(i){return t("div",{key:i,staticClass:"list-item preview-separator"},[t("div",[t("o-heading",{attrs:{size:"title-4"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.menu_item_name"))+`
			`)]),e._v(" "),t("p",{staticClass:"item-description"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.menu_item_description"))+`
			`)]),e._v(" "),t("o-heading",{staticStyle:{"font-weight":"100"},attrs:{size:"title-4"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.menu_item_price"))+`
			`)])],1),e._v(" "),t("div",{staticClass:"item-placeholder"})])})],2)},ri=[],ai=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"banner",class:{active:e.focused==!0}},[e.bannerText?t("div",[t("o-heading",{staticClass:"station-header",attrs:{flush:!0}},[e._v(`
			`+e._s(e.bannerText)+`
		`)]),e._v(" "),e.bannerSublineText?t("o-heading",{staticClass:"station-header",attrs:{flush:!0}},[e._v(`
			`+e._s(e.bannerSublineText)+`
		`)]):e._e()],1):e._e(),e._v(" "),e.showStation?t("div",{staticClass:"station"},[t("reservations-icon",{staticClass:"icon"}),e._v(" "),t("o-heading",{attrs:{size:"title-4",flush:!0}},[e._v(`
			`+e._s(e.stationLabel)+` 1
		`)])],1):e._e()])},oi=[],li=n(351),st=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",version:"1.1"}},[t("path",{pre:!0,attrs:{d:"M 0.631 0.066 C 0.402 0.154, 0.151 0.408, 0.065 0.640 L -0.001 0.815 0.007 5.053 L 0.015 9.291 0.094 9.441 C 0.193 9.627, 0.392 9.827, 0.560 9.909 C 0.631 9.943, 0.773 9.983, 0.877 9.998 C 0.981 10.013, 1.991 10.025, 3.122 10.026 L 5.179 10.026 5.247 10.203 C 5.485 10.818, 6.175 11.499, 6.836 11.773 L 6.994 11.838 6.994 12.910 L 6.994 13.982 6.402 13.995 C 5.877 14.008, 5.788 14.017, 5.634 14.077 C 5.132 14.272, 4.879 14.860, 5.074 15.380 C 5.162 15.615, 5.396 15.850, 5.629 15.938 C 5.798 16.001, 5.819 16.001, 8.056 15.993 L 10.311 15.985 10.442 15.915 C 10.739 15.757, 10.925 15.509, 10.994 15.176 C 11.058 14.874, 10.935 14.507, 10.698 14.289 C 10.431 14.043, 10.213 13.989, 9.478 13.989 L 9.006 13.989 9.006 12.914 L 9.006 11.839 9.156 11.785 C 9.359 11.712, 9.786 11.441, 10.017 11.238 C 10.265 11.020, 10.545 10.645, 10.707 10.311 L 10.839 10.041 13.022 10.026 L 15.205 10.011 15.380 9.941 C 15.631 9.839, 15.849 9.612, 15.951 9.346 L 16.030 9.139 16.030 4.945 C 16.030 2.410, 16.019 0.750, 16.002 0.750 C 15.987 0.750, 15.966 0.709, 15.955 0.659 C 15.934 0.566, 15.770 0.330, 15.657 0.233 C 15.623 0.203, 15.527 0.142, 15.445 0.097 L 15.295 0.015 8.045 0.009 L 0.795 0.003 0.631 0.066 M 0.015 4.998 C 0.015 7.326, 0.018 8.283, 0.023 7.124 C 0.027 5.966, 0.027 4.061, 0.023 2.892 C 0.018 1.722, 0.015 2.670, 0.015 4.998 M 2.011 4.998 L 2.011 7.985 3.596 7.985 L 5.181 7.985 5.234 7.838 C 5.372 7.456, 5.816 6.895, 6.227 6.583 C 6.460 6.406, 6.942 6.176, 7.250 6.093 C 7.592 6.002, 8.184 5.980, 8.535 6.047 C 9.493 6.227, 10.287 6.834, 10.710 7.707 L 10.845 7.985 12.417 7.985 L 13.989 7.985 13.989 4.998 L 13.989 2.011 8 2.011 L 2.011 2.011 2.011 4.998 M 7.710 8.055 C 7.266 8.221, 7.024 8.556, 7.024 9.006 C 7.024 9.391, 7.200 9.689, 7.535 9.874 C 7.718 9.975, 7.746 9.981, 8 9.981 C 8.235 9.981, 8.292 9.970, 8.440 9.898 C 8.909 9.667, 9.125 9.076, 8.910 8.612 C 8.738 8.240, 8.449 8.042, 8.049 8.024 C 7.904 8.018, 7.779 8.029, 7.710 8.055","fill-rule":"evenodd"}})])},di=[];st._withStripped=!0;const ci=void 0,ui=void 0,pi=void 0,mi=!1,vi=Object(li.a)({render:st,staticRenderFns:di},ci,{},ui,mi,pi,!1,void 0,void 0,void 0);var gi=Object.defineProperty,fi=Object.defineProperties,hi=Object.getOwnPropertyDescriptors,nt=Object.getOwnPropertySymbols,bi=Object.prototype.hasOwnProperty,Si=Object.prototype.propertyIsEnumerable,_t=(e,s,t)=>s in e?gi(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,yi=(e,s)=>{for(var t in s||(s={}))bi.call(s,t)&&_t(e,t,s[t]);if(nt)for(var t of nt(s))Si.call(s,t)&&_t(e,t,s[t]);return e},Oi=(e,s)=>fi(e,hi(s)),ji={components:{OHeading:A.OHeading,ReservationsIcon:vi},props:{bannerText:{type:String,default:""},bannerSublineText:{type:String,required:!1,default:""},showStation:{type:Boolean,required:!1,default:!1},focused:{type:Boolean,default:!0}},data(){return{assetify:_.assetify}},computed:Oi(yi({},Object(a.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),{stationLabel(){return Object(P.get)(this.location,"dine_in_settings.type",Object(_.utl)("ecommerce.settings.dine_in.default_station_label"))}})},Pi=ji,iu=n(1814),Ii=Object(E.a)(Pi,ai,oi,!1,null,"f3686b14",null),it=Ii.exports,Ci={components:{OHeading:A.OHeading,Banner:it},props:{banner:{type:String,default:""},activeBorder:{type:Boolean,default:!0},fadeMenu:{type:Boolean,default:!0},bannerSublineText:{type:String,required:!1,default:""},showStation:{type:Boolean,required:!1,default:!1}}},Ei=Ci,ru=n(1815),Li=Object(E.a)(Ei,ii,ri,!1,null,"71f2fce0",null),ge=Li.exports,xi=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"checkout-preview"},[t("div",{staticClass:"preview-card text-center"},[t("img",{attrs:{src:e.assetify("/images/commerce/store-app/check-icon.svg")}}),e._v(" "),t("o-heading",{staticClass:"mt-1",attrs:{size:"title-3"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.checkout_confirmation"))+`
		`)]),e._v(" "),t("div",[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.checkout_message_email"))+`
		`)])],1),e._v(" "),t("banner",{attrs:{"banner-text":e.banner}}),e._v(" "),t("div",{staticClass:"preview-card"},[t("o-heading",{staticClass:"preview-card-header",attrs:{size:"title-5"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.payment_header"))+`
		`)]),e._v(" "),t("div",{staticClass:"mt-2"},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.payment_info_placeholder"))+`
		`)])],1),e._v(" "),t("div",{staticClass:"preview-card"},[t("o-heading",{staticClass:"preview-card-header",attrs:{size:"title-5"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.order_summary_header"))+`
		`)])],1)],1)},Ti=[],wi={components:{OHeading:A.OHeading,Banner:it},props:{banner:{type:String,default:""}},data(){return{assetify:_.assetify}}},Di=wi,au=n(1816),Ai=Object(E.a)(Di,xi,Ti,!1,null,"1c071fb4",null),rt=Ai.exports,Mi=Object.defineProperty,Bi=Object.defineProperties,Ri=Object.getOwnPropertyDescriptors,at=Object.getOwnPropertySymbols,Fi=Object.prototype.hasOwnProperty,ki=Object.prototype.propertyIsEnumerable,ot=(e,s,t)=>s in e?Mi(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Gi=(e,s)=>{for(var t in s||(s={}))Fi.call(s,t)&&ot(e,t,s[t]);if(at)for(var t of at(s))ki.call(s,t)&&ot(e,t,s[t]);return e},Ni=(e,s)=>Bi(e,Ri(s)),Ui={components:{MenuScreen:ge,CheckoutScreen:rt,OHeading:A.OHeading},props:{visiblePage:{type:Number,default:0},menuBanner:{type:String,default:""},checkoutBanner:{type:String,default:""},unavailableBanner:{type:String,default:""},displayOrderResumption:{type:Boolean,default:!1},enableSlider:{type:Boolean,default:!0},activeBorder:{type:Boolean,default:!0}},computed:Ni(Gi({},Object(a.mapState)(r.E,["siteLogo","siteTitle"])),{sliderStyle(){if(!this.enableSlider)return{transform:"none"};const e=Object(P.get)(this.$refs,"slider.clientWidth",0);return{transform:`translate3d(-${this.visiblePage*e}px, 0, 0)`}},screens(){const e=[{component:ge,banner:this.menuBanner,props:{activeBorder:this.activeBorder}},{component:rt,banner:this.checkoutBanner,props:{}},{component:ge,banner:this.unavailableBanner,props:{showStation:!1,bannerSublineText:this.displayOrderResumption?Object(_.utl)("ecommerce.settings.dine_in.resumption_time"):""}}];return this.enableSlider?e:[e[this.visiblePage]]}}),methods:{assetify:_.assetify}},$i=Ui,ou=n(1817),Hi=Object(E.a)($i,ni,_i,!1,null,"79d2f691",null),fe=Hi.exports,Wi=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",[t("div",{staticClass:"label-container"},[t("div",[t("p",{staticClass:"label"},[e._v(`
				`+e._s(e.label)+`
			`)]),e._v(" "),t("div",{staticClass:"label-info mt-1"},[e._v(`
				`+e._s(e.labelInfo)+`
				`),t("a",{staticClass:"ml-half",attrs:{href:e.learnMoreLink,target:"_blank"}},[e._v(e._s(e._f("utl")("ecommerce.common.learn_more_link")))])])]),e._v(" "),t("o-button",{staticClass:"preview-button",on:{click:function(i){return e.$emit("click:preview")}}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.preview"))+`
		`)])],1),e._v(" "),t("o-form-item",{attrs:{errors:e.validationError,flush:!0}},[t("o-textarea",{staticClass:"form-textarea",on:{focus:function(i){return e.$emit("focus")}},model:{value:e.inputValue,callback:function(i){e.inputValue=i},expression:"inputValue"}}),e._v(" "),t("template",{slot:"sublabel"},[t("div",{staticClass:"sublabel"},[t("span",[t("span",{class:{highlight:e.shouldShowTip,error:e.validationError}},[e._v(`
						`+e._s(e.inputValue.length)+`
					`)]),e._v(" / "+e._s(e.softLimit)+`
				`)]),e._v(" "),e.shouldShowReset?t("o-button",{attrs:{variant:"text"},on:{click:e.handleResetClick}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.common.reset"))+`
				`)]):e._e()],1)])],2),e._v(" "),e.shouldShowTip?t("pro-tip-alert",{attrs:{"tip-text":e.tipText}}):e._e()],1)},zi=[],Vi=n(876),Ki=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"tip-block"},[t("img",{staticClass:"tip-icon",attrs:{src:e.assetify("/images/commerce/store-app/star-icon.svg")}}),e._v(" "),t("div",{domProps:{innerHTML:e._s(e.tipText)}})])},Qi=[],Zi={name:"ProTipAlert",props:{tipText:{type:String,required:!0}},methods:{assetify:_.assetify}},qi=Zi,lu=n(1818),Xi=Object(E.a)(qi,Ki,Qi,!1,null,"1c216e4a",null),Yi=Xi.exports,Ji={name:"FormItem",components:{OSection:H.OSection,OTextarea:Vi.OTextarea,OFormItem:$.OFormItem,OButton:w.OButton,ProTipAlert:Yi},props:{label:{type:String,required:!0},labelInfo:{type:String,required:!0},softLimit:{type:Number,required:!0},hardLimit:{type:Number,required:!0},value:{type:String,required:!0},default:{type:String,required:!0},learnMoreLink:{type:String,required:!1,default:""}},computed:{inputValue:{get(){return this.value},set(e){this.$emit("input",e)}},shouldShowTip(){return this.value.length>=this.softLimit||this.value.length===0},tipText(){return this.value.length>=this.softLimit?Object(_.utl)("ecommerce.settings.dine_in.short_banner_tip"):this.value.length===0?Object(_.utl)("ecommerce.settings.dine_in.no_banner_tip"):""},validationError(){return this.value.length>=this.hardLimit?Object(_.utl)("ecommerce.settings.dine_in.banner_too_long_error"):""},shouldShowReset(){return this.value!==this.default}},watch:{validationError(){this.$emit("toggle:isValid",!this.validationError)}},methods:{assetify:_.assetify,handleResetClick(){this.$emit("input",this.default)}}},er=Ji,du=n(1819),tr=Object(E.a)(er,Wi,zi,!1,null,"27dff3b0",null),sr=tr.exports,nr=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",[t("o-modal-pane",{attrs:{title:e.title}},[t("div",{staticClass:"preview-wrapper"},[t("mobile-preview",{attrs:{"visible-page":e.visiblePage,"menu-banner":e.menuBanner,"checkout-banner":e.checkoutBanner,"enable-slider":!1,"fade-menu":e.fadeMenu}})],1)])],1)},_r=[],ir={components:{OModal:f.OModal,OModalPane:f.OModalPane,MobilePreview:fe},props:{title:{type:String,required:!0},visiblePage:{type:Number,required:!0},menuBanner:{type:String,required:!1,default:""},checkoutBanner:{type:String,required:!1,default:""},fadeMenu:{type:Boolean,default:!0}}},rr=ir,cu=n(1820),ar=Object(E.a)(rr,nr,_r,!1,null,"3828c11e",null),he=ar.exports,or=Object.defineProperty,lt=Object.getOwnPropertySymbols,lr=Object.prototype.hasOwnProperty,dr=Object.prototype.propertyIsEnumerable,dt=(e,s,t)=>s in e?or(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,cr=(e,s)=>{for(var t in s||(s={}))lr.call(s,t)&&dt(e,t,s[t]);if(lt)for(var t of lt(s))dr.call(s,t)&&dt(e,t,s[t]);return e},ur={name:"EditBannerSection",components:{OGrid:V.OGrid,OGridItem:V.OGridItem,OForm:$.OForm,OToggle:q.OToggle,MobilePreview:fe,FormItem:sr},inject:{modalLayer:f.ModalLayer},props:{menuBanner:{type:String,required:!0},checkoutBanner:{type:String,required:!0},unavailableBanner:{type:String,required:!0},displayOrderResumption:{type:Boolean,required:!0}},data(){return{currentPreview:re,toggleValue:this.displayOrderResumption,MENU_BANNER_SOFT_LIMIT:pn,CHECKOUT_BANNER_SOFT_LIMIT:mn,UNAVAILABLE_BANNER_SOFT_LIMIT:vn,MENU_BANNER_HARD_LIMIT:gn,CHECKOUT_BANNER_HARD_LIMIT:fn,UNAVAILABLE_BANNER_HARD_LIMIT:hn,MENU_PREVIEW_PAGE:re,CHECKOUT_PREVIEW_PAGE:xe,RESUMPTION_PREVIEW_PAGE:bn,SELF_SERVE_HELP_ARTICLE_URL:we,MENU_BANNER_DEFAULT:le,CHECKOUT_BANNER_DEFAULT:de,UNAVAILABLE_BANNER_DEFAULT:Te}},computed:cr({},Object(a.mapGetters)(r.e,{canUseSSOBusinessHours:"canUseSSOBusinessHours",getDineInResumptionBannerFormSublabel:"getDineInResumptionBannerFormSublabel",getDineInShowWhenOrdersResumeLabel:"getDineInShowWhenOrdersResumeLabel"})),methods:{onFocus(e){this.currentPreview=e},handleCheckoutBannerChange(e){this.$emit("update:checkoutBanner",e)},handleMenuBannerChange(e){this.$emit("update:menuBanner",e)},handleUnavailableBannerChange(e){this.$emit("update:unavailableBanner",e)},handleShowResumptionToggle(e){this.$emit("update:showOrderResumption",e)},setValidation(e){this.$emit("toggle:isValid",e)},openMenuPreviewInModal(){this.modalLayer.open(he,{props:{title:Object(_.utl)("ecommerce.settings.dine_in.menu_banner_form_label"),visiblePage:re,menuBanner:this.menuBanner}})},openCheckoutPreviewInModal(){this.modalLayer.open(he,{props:{title:Object(_.utl)("ecommerce.settings.dine_in.checkout_banner_form_label"),visiblePage:xe,checkoutBanner:this.checkoutBanner}})}}},pr=ur,uu=n(1821),mr=Object(E.a)(pr,ti,si,!1,null,"49b13e05",null),ct=mr.exports,vr=Object.defineProperty,gr=Object.defineProperties,fr=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,hr=Object.prototype.hasOwnProperty,br=Object.prototype.propertyIsEnumerable,pt=(e,s,t)=>s in e?vr(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,mt=(e,s)=>{for(var t in s||(s={}))hr.call(s,t)&&pt(e,t,s[t]);if(ut)for(var t of ut(s))br.call(s,t)&&pt(e,t,s[t]);return e},Sr=(e,s)=>gr(e,fr(s)),yr=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),vt={data(){return{savingBanners:!1,menuBanner:le,checkoutBanner:de,unavailableBanner:Te,displayOrderResumption:!0,hasValidBanners:!0}},computed:mt({},Object(a.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),methods:Sr(mt({},Object(a.mapActions)(r.e,["createOrUpdateDineInSettings","setDineInEnabled"])),{handleMenuBannerChange(e){this.menuBanner=e},handleCheckoutBannerChange(e){this.checkoutBanner=e},handleUnavailableBannerChange(e){this.unavailableBanner=e},handleOrderResumptionToggle(e){this.displayOrderResumption=e},setValidation(e){this.hasValidBanners=e},saveBanners(){return yr(this,null,function*(){return yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:{menu_banner:this.menuBanner,checkout_banner:this.checkoutBanner,unavailable_banner:this.unavailableBanner,display_order_resumption:this.displayOrderResumption}}),!0})}})},Or=Object.defineProperty,gt=Object.getOwnPropertySymbols,jr=Object.prototype.hasOwnProperty,Pr=Object.prototype.propertyIsEnumerable,ft=(e,s,t)=>s in e?Or(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Ir=(e,s)=>{for(var t in s||(s={}))jr.call(s,t)&&ft(e,t,s[t]);if(gt)for(var t of gt(s))Pr.call(s,t)&&ft(e,t,s[t]);return e},Cr=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),Er={name:"EditBannerSheet",components:{OSheet:U.OSheet,OButton:w.OButton,ONotice:O.ONotice,EditBannerSection:ct},mixins:[vt],data(){return{sheetError:""}},computed:Ir({},Object(a.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),created(){if(this.location){const e=Object(P.get)(this.location,"dine_in_settings.menu_banner"),s=Object(P.get)(this.location,"dine_in_settings.checkout_banner"),t=Object(P.get)(this.location,"dine_in_settings.unavailable_banner"),i=Object(P.get)(this.location,"dine_in_settings.display_order_resumption",!0);e!=null&&(this.menuBanner=e),s!=null&&(this.checkoutBanner=s),t!=null&&(this.unavailableBanner=t),this.displayOrderResumption=!!i}},methods:{submit(e){return Cr(this,null,function*(){try{this.savingBanners=!0,(yield this.saveBanners())&&e.close()}catch(s){this.sheetError=Object(_.utl)("ecommerce.settings.errors.request_generic")}finally{this.savingBanners=!1}})}}},Lr=Er,mu=n(1822),xr=Object(E.a)(Lr,J_,ei,!1,null,"1e990fda",null),Tr=xr.exports,wr=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",{ref:"modal"},[t("o-modal-pane",{attrs:{title:e.title}},[t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.modal.close("Cancel")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_cancel_label"))+`
			`)]),e._v(" "),t("o-button",{attrs:{loading:e.loading,variant:"primary"},on:{click:e.handleClick}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_save_label"))+`
			`)])],1),e._v(`

		`+e._s(e.getDineInServiceFeeSettingsModalDescription)+`

		`),t("o-form",{on:{submit:function(i){i.preventDefault()}}},[t("o-form-item",[t("o-button-group",{staticClass:"mt-4",attrs:{mode:"single-select-optional","full-width":""},model:{value:e.serviceFeeType,callback:function(i){e.serviceFeeType=i},expression:"serviceFeeType"}},[t("o-button-group-item",{attrs:{value:e.SERVICE_FEE_TYPES.FLAT}},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_set_amount_label"))+`
					`)]),e._v(" "),t("o-button-group-item",{attrs:{value:e.SERVICE_FEE_TYPES.PERCENTAGE}},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_percentage_label"))+`
					`)])],1)],1),e._v(" "),t("o-form-item",{attrs:{sublabel:e._f("utl")("ecommerce.settings.dine_in.service_fee_settings_modal_notice"),errors:e.errors}},[e.serviceFeeType===e.SERVICE_FEE_TYPES.PERCENTAGE?t("percentage-input",{staticClass:"mt-2 mb-2 price-input",model:{value:e.serviceFeeAmount,callback:function(i){e.serviceFeeAmount=i},expression:"serviceFeeAmount"}}):e._e(),e._v(" "),e.serviceFeeType===e.SERVICE_FEE_TYPES.FLAT?t("currency-input",{staticClass:"mt-2 mb-2 price-input",model:{value:e.serviceFeeAmount,callback:function(i){e.serviceFeeAmount=i},expression:"serviceFeeAmount"}}):e._e()],1)],1)],2)],1)},Dr=[],be=n(228),Ar=Object.defineProperty,Mr=Object.defineProperties,Br=Object.getOwnPropertyDescriptors,ht=Object.getOwnPropertySymbols,Rr=Object.prototype.hasOwnProperty,Fr=Object.prototype.propertyIsEnumerable,bt=(e,s,t)=>s in e?Ar(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,St=(e,s)=>{for(var t in s||(s={}))Rr.call(s,t)&&bt(e,t,s[t]);if(ht)for(var t of ht(s))Fr.call(s,t)&&bt(e,t,s[t]);return e},yt=(e,s)=>Mr(e,Br(s)),kr=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),Gr={components:{OButton:w.OButton,OModal:f.OModal,OModalPane:f.OModalPane,OButtonGroupItem:T.OButtonGroupItem,OButtonGroup:T.OButtonGroup,OForm:$.OForm,OFormItem:$.OFormItem,CurrencyInput:be.b,PercentageInput:be.d},data(){return{loading:!1,SERVICE_FEE_TYPES:z,serviceFeeAmount:0,serviceFeeType:z.FLAT,errors:[]}},computed:yt(St({},Object(a.mapGetters)(r.e,{location:"stagedStoreLocationClone",getDineInServiceFeeSettingsModalDescription:"getDineInServiceFeeSettingsModalDescription"})),{dineInSettings(){return this.location.dine_in_settings},title(){return`${Object(_.utl)("ecommerce.settings.dine_in.service_fee_settings_modal_title")} ${this.location.display_name}`}}),mounted(){this.dineInSettings.service_fee_type!==z.NONE&&(this.serviceFeeType=this.dineInSettings.service_fee_type,this.serviceFeeAmount=parseFloat(this.dineInSettings.service_fee))},methods:yt(St({},Object(a.mapActions)(r.e,["createOrUpdateDineInSettings"])),{handleClick(){return kr(this,null,function*(){if(this.loading=!0,this.validate()){(!this.serviceFeeAmount||Number.isNaN(this.serviceFeeAmount))&&(this.serviceFeeAmount=0);const s={service_fee_type:this.serviceFeeAmount>0?this.serviceFeeType:z.NONE,service_fee:parseFloat(this.serviceFeeAmount).toFixed(2)};try{yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:s}),this.$refs.modal.close("Submit")}catch(t){this.errors.push(Object(_.utl)("ecommerce.settings.dine_in.service_fee_settings_error_invalid"))}}this.loading=!1})},validate(){return this.errors=[],this.serviceFeeType===z.PERCENTAGE&&this.serviceFeeAmount>100&&this.errors.push(Object(_.utl)("ecommerce.settings.errors.percentage_over_max_value")),this.serviceFeeType===z.FLAT&&this.serviceFeeAmount>=De&&this.errors.push(Object(_.utl)("ecommerce.settings.errors.enter_value_lower_than",De)),this.errors.length===0}})},Nr=Gr,vu=n(1823),Ur=Object(E.a)(Nr,wr,Dr,!1,null,"073bc560",null),$r=Ur.exports,Hr=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",{ref:"modal"},[t("o-modal-pane",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_modal_title")}},[t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.modal.close("Cancel")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_cancel_label"))+`
			`)]),e._v(" "),t("o-button",{attrs:{loading:e.loading,variant:"primary"},on:{click:e.handleClick}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_save_label"))+`
			`)])],1),e._v(" "),t("div",{staticClass:"section-description mb-1"},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_modal_description"))+`
		`)]),e._v(" "),t("o-toggle",{model:{value:e.alcoholEnabled,callback:function(i){e.alcoholEnabled=i},expression:"alcoholEnabled"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_enable_label"))+`
		`)]),e._v(" "),t("o-form",{on:{submit:function(i){i.preventDefault()}}},[e.alcoholEnabled?t("o-form-item",{staticClass:"mb-1"},[t("div",{staticClass:"section-description mt-2 mb-1"},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_limit_description"))+`
				`)]),e._v(" "),t("o-checkbox",{ref:"alcohol-max-checkbox",staticClass:"mb-2 price-input",model:{value:e.alcoholMaxEnabled,callback:function(i){e.alcoholMaxEnabled=i},expression:"alcoholMaxEnabled"}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.alcohol_settings_set_alcohol_max"))+`
				`)])],1):e._e(),e._v(" "),e.alcoholEnabled&&e.alcoholMaxEnabled?t("o-form-item",{attrs:{errors:e.errors}},[t("number-input",{staticClass:"mt-2 mb-2 limit-input",model:{value:e.alcoholMax,callback:function(i){e.alcoholMax=i},expression:"alcoholMax"}})],1):e._e()],1)],2)],1)},Wr=[],zr=n(121),Vr=Object.defineProperty,Kr=Object.defineProperties,Qr=Object.getOwnPropertyDescriptors,Ot=Object.getOwnPropertySymbols,Zr=Object.prototype.hasOwnProperty,qr=Object.prototype.propertyIsEnumerable,jt=(e,s,t)=>s in e?Vr(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Pt=(e,s)=>{for(var t in s||(s={}))Zr.call(s,t)&&jt(e,t,s[t]);if(Ot)for(var t of Ot(s))qr.call(s,t)&&jt(e,t,s[t]);return e},It=(e,s)=>Kr(e,Qr(s)),Xr=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),Yr={components:{OButton:w.OButton,OModal:f.OModal,OModalPane:f.OModalPane,OCheckbox:zr.OCheckbox,OForm:$.OForm,OFormItem:$.OFormItem,OToggle:q.OToggle,NumberInput:be.c},data(){return{loading:!1,errors:[],alcoholEnabled:!1,alcoholMax:null,alcoholMaxEnabled:!1}},computed:It(Pt({},Object(a.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),{dineInSettings(){return this.location.dine_in_settings}}),mounted(){this.alcoholEnabled=this.dineInSettings.alcohol_enabled,this.alcoholMax=this.dineInSettings.alcohol_max_per_order||1,this.alcoholMaxEnabled=this.dineInSettings.alcohol_max_per_order>0},methods:It(Pt({},Object(a.mapActions)(r.e,["createOrUpdateDineInSettings"])),{handleClick(){return Xr(this,null,function*(){if(this.loading=!0,this.validate()){const e={alcohol_enabled:this.alcoholEnabled,alcohol_max_per_order:this.alcoholMaxEnabled&&this.alcoholEnabled?this.alcoholMax:null};try{yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:e}),this.$refs.modal.close("Submit")}catch(s){this.errors.push(Object(_.utl)("ecommerce.settings.dine_in.alcohol_settings_max_invalid"))}}this.loading=!1})},validate(){return this.errors=[],this.alcoholEnabled&&this.alcoholMaxEnabled&&!this.alcoholMax&&this.errors.push(Object(_.utl)("ecommerce.settings.dine_in.alcohol_settings_max_invalid",0)),this.errors.length===0}})},Jr=Yr,gu=n(1824),ea=Object(E.a)(Jr,Hr,Wr,!1,null,"30b07fc9",null),ta=ea.exports,sa=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",{ref:"modal",attrs:{"before-close":e.beforeClose}},[t("o-modal-pane",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_title")}},[t("template",{slot:"actions"},[t("o-button",{attrs:{loading:e.loading,variant:"primary"},on:{click:e.handleClick}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_save"))+`
			`)])],1),e._v(" "),e.errorSaving?t("o-notice",{attrs:{type:"error",icon:"exclamation-triangle"}},[t("span",{staticClass:"error-message"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.generic_error"))+`
			`)])]):e._e(),e._v(" "),t("sms-alert-form",{on:{"update:settings":e.handleDineInSettingsChange}})],2)],1)},na=[],_a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",[t("div",{staticClass:"toggle-container"},[t("div",[t("p",{staticClass:"paragraph-medium-30"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_received_title"))+`
			`)]),e._v(" "),t("p",{staticClass:"paragraph-20 secondary-text"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_received_prompt"))+`
				`),t("span",{staticClass:"italics"},[t("i",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_received_example")))])])])]),e._v(" "),t("div",[t("o-toggle",{attrs:{checked:e.smsAlertOrderCreated},on:{"toggle:update":e.onSmsOrderCreatedChange}})],1)]),e._v(" "),t("div",{staticClass:"toggle-container"},[t("div",[t("p",{staticClass:"paragraph-medium-30"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_prepared_title"))+`
			`)]),e._v(" "),t("p",{staticClass:"paragraph-20 secondary-text"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_prepared_prompt"))+`
				`),t("a",{attrs:{target:"_blank",href:"https://squareup.com/help/us/en/article/7142-set-up-self-serve-ordering-and-qr-codes-with-square-online#06ab8f64447847cde2c60f076bcae17f"}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_learn_more"))+`
				`)]),e._v(" "),t("span",{staticClass:"italics"},[t("i",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_prepared_example")))])])])]),e._v(" "),t("div",[t("o-toggle",{attrs:{checked:e.smsAlertOrderPrepared},on:{"toggle:update":e.onSmsOrderPreparedChange}})],1)])])},ia=[],ra=Object.defineProperty,aa=Object.defineProperties,oa=Object.getOwnPropertyDescriptors,Ct=Object.getOwnPropertySymbols,la=Object.prototype.hasOwnProperty,da=Object.prototype.propertyIsEnumerable,Et=(e,s,t)=>s in e?ra(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Lt=(e,s)=>{for(var t in s||(s={}))la.call(s,t)&&Et(e,t,s[t]);if(Ct)for(var t of Ct(s))da.call(s,t)&&Et(e,t,s[t]);return e},xt=(e,s)=>aa(e,oa(s)),ca={name:"SmsAlertForm",components:{OSection:H.OSection,OToggle:q.OToggle},props:{},data(){return{loading:!1,errors:[],smsCreatedAlertEnabledOriginal:void 0,smsPreparedAlertEnabledOriginal:void 0}},computed:xt(Lt({},Object(a.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),{smsAlertOrderCreated:{get(){return Boolean(Object(P.get)(this.location,"dine_in_settings.sms_alert_order_created_enabled",!1))},set(e){this.setSmsCreatedAlertEnabled(e),this.handleSettingsChange()}},smsAlertOrderPrepared:{get(){return Boolean(Object(P.get)(this.location,"dine_in_settings.sms_alert_order_prepared_enabled",!1))},set(e){this.setSmsPreparedAlertEnabled(e),this.handleSettingsChange()}},dineInSettingChanges(){const e={};if(this.smsCreatedAlertEnabledOriginal!==this.smsAlertOrderCreated&&(e.sms_alert_order_created_enabled=this.smsAlertOrderCreated?1:0),this.smsPreparedAlertEnabledOriginal!==this.smsAlertOrderPrepared&&(e.sms_alert_order_prepared_enabled=this.smsAlertOrderPrepared?1:0),Object.keys(e).length>0)return e},originalDineInSettings(){return{sms_alert_order_created_enabled:this.smsCreatedAlertEnabledOriginal,sms_alert_order_prepared_enabled:this.smsPreparedAlertEnabledOriginal}}}),watch:{location(e){let s;this.smsCreatedAlertEnabledOriginal===void 0&&(s=Object(P.get)(e,"dine_in_settings.sms_alert_order_created_enabled",void 0),s!==void 0&&(this.smsCreatedAlertEnabledOriginal=Boolean(s))),this.smsPreparedAlertEnabledOriginal===void 0&&(s=Object(P.get)(e,"dine_in_settings.sms_alert_order_prepared_enabled",void 0),s!==void 0&&(this.smsPreparedAlertEnabledOriginal=Boolean(s)))}},mounted(){this.smsCreatedAlertEnabledOriginal=Object(P.get)(this.location,"dine_in_settings.sms_alert_order_created_enabled",void 0),this.smsPreparedAlertEnabledOriginal=Object(P.get)(this.location,"dine_in_settings.sms_alert_order_prepared_enabled",void 0),this.handleSettingsChange()},methods:xt(Lt({},Object(a.mapActions)(r.e,["setSmsCreatedAlertEnabled","setSmsPreparedAlertEnabled"])),{onSmsOrderCreatedChange(){this.smsAlertOrderCreated=!this.smsAlertOrderCreated},onSmsOrderPreparedChange(){this.smsAlertOrderPrepared=!this.smsAlertOrderPrepared},handleSettingsChange(){this.$emit("update:settings",{changes:this.dineInSettingChanges,original:this.originalDineInSettings})}})},ua=ca,fu=n(1825),pa=Object(E.a)(ua,_a,ia,!1,null,"72b679fa",null),Tt=pa.exports,ma=Object.defineProperty,va=Object.defineProperties,ga=Object.getOwnPropertyDescriptors,wt=Object.getOwnPropertySymbols,fa=Object.prototype.hasOwnProperty,ha=Object.prototype.propertyIsEnumerable,Dt=(e,s,t)=>s in e?ma(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,At=(e,s)=>{for(var t in s||(s={}))fa.call(s,t)&&Dt(e,t,s[t]);if(wt)for(var t of wt(s))ha.call(s,t)&&Dt(e,t,s[t]);return e},ba=(e,s)=>va(e,ga(s)),Sa=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),ya={components:{OButton:w.OButton,OModal:f.OModal,OModalPane:f.OModalPane,ONotice:O.ONotice,SmsAlertForm:Tt},data(){return{loading:!1,errorSaving:!1,dineInSettingChanges:void 0,dineInSettingOriginal:void 0}},computed:At({},Object(a.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),methods:ba(At({},Object(a.mapActions)(r.e,["createOrUpdateDineInSettings","setSmsCreatedAlertEnabled","setSmsPreparedAlertEnabled"])),{handleDineInSettingsChange({changes:e,original:s}){this.dineInSettingChanges=e,this.dineInSettingOriginal=s},beforeClose(e,s){if(!e&&this.dineInSettingOriginal){const{sms_alert_order_created_enabled:t,sms_alert_order_prepared_enabled:i}=this.dineInSettingOriginal;this.setSmsCreatedAlertEnabled(t),this.setSmsPreparedAlertEnabled(i)}s()},handleClick(){return Sa(this,null,function*(){if(this.dineInSettingChanges)try{this.loading=!0,this.dineInSettingChanges.sms_alert_order_created_enabled!==void 0&&Object(c.R)(Boolean(this.dineInSettingChanges.sms_alert_order_created_enabled)),this.dineInSettingChanges.sms_alert_order_prepared_enabled!==void 0&&Object(c.Q)(Boolean(this.dineInSettingChanges.sms_alert_order_prepared_enabled)),yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:this.dineInSettingChanges}),this.errorSaving=!1,this.$refs.modal.close("Submit")}catch(e){this.errorSaving=!0}finally{this.loading=!1}else this.$refs.modal.close("Submit")})}})},Oa=ya,hu=n(1826),ja=Object(E.a)(Oa,sa,na,!1,null,"40d30d50",null),Pa=ja.exports,Ia=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",{ref:"modal"},[t("o-modal-pane",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_modal_title")}},[t("template",{slot:"actions"},[t("o-button",{attrs:{loading:e.loading,variant:"primary"},on:{click:e.handleClick}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_save_label"))+`
			`)])],1),e._v(" "),t("div",{staticClass:"section-description mb-1"},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_modal_description"))+`
		`)]),e._v(" "),t("o-form",{on:{submit:function(i){i.preventDefault()}}},[t("o-form-item",{staticClass:"mb-1"},[t("o-radio",{ref:"ticket-printing-immediately",attrs:{sublabel:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_immediately_sublabel"),value:!0},model:{value:e.printImmediately,callback:function(i){e.printImmediately=i},expression:"printImmediately"}},[t("span",{staticClass:"ticket-timing-label"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_immediately"))+`
					`)])])],1),e._v(" "),t("o-form-item",{staticClass:"mb-1"},[t("o-radio",{ref:"ticket-printing-wait",attrs:{sublabel:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_wait_sublabel"),value:!1},model:{value:e.printImmediately,callback:function(i){e.printImmediately=i},expression:"printImmediately"}},[t("span",{staticClass:"ticket-timing-label"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_wait"))+`
					`)])])],1),e._v(" "),e.printImmediately===!1?t("div",[t("div",{staticClass:"mt-2 mb-2"},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_duration_description"))+`
				`)]),e._v(" "),t("o-select",{staticClass:"timing-select",attrs:{options:e.options},model:{value:e.currentDuration,callback:function(i){e.currentDuration=i},expression:"currentDuration"}})],1):e._e()],1)],2)],1)},Ca=[],Mt=n(350),Ea=Object.defineProperty,La=Object.defineProperties,xa=Object.getOwnPropertyDescriptors,Bt=Object.getOwnPropertySymbols,Ta=Object.prototype.hasOwnProperty,wa=Object.prototype.propertyIsEnumerable,Rt=(e,s,t)=>s in e?Ea(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Ft=(e,s)=>{for(var t in s||(s={}))Ta.call(s,t)&&Rt(e,t,s[t]);if(Bt)for(var t of Bt(s))wa.call(s,t)&&Rt(e,t,s[t]);return e},kt=(e,s)=>La(e,xa(s)),Da=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),Aa={components:{OButton:w.OButton,OModal:f.OModal,OModalPane:f.OModalPane,ORadio:Mt.ORadio,OForm:$.OForm,OFormItem:$.OFormItem,OSelect:ce.OSelect},data(){return{loading:!1,errors:[],printImmediately:!1,options:r.c,currentDuration:0}},computed:kt(Ft({},Object(a.mapGetters)(r.e,{location:"stagedStoreLocationClone"})),{dineInSettings(){return this.location.dine_in_settings}}),mounted(){this.printImmediately=this.dineInSettings.ticket_printing_consolidation_seconds===0,this.currentDuration=this.dineInSettings.ticket_printing_consolidation_seconds||30},methods:kt(Ft({},Object(a.mapActions)(r.e,["createOrUpdateDineInSettings"])),{handleClick(){return Da(this,null,function*(){this.loading=!0;try{const e={ticket_printing_consolidation_seconds:this.printImmediately?0:this.currentDuration};yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:e}),this.$refs.modal.close("Submit")}catch(e){}this.loading=!1})}})},Ma=Aa,bu=n(1827),Ba=Object(E.a)(Ma,Ia,Ca,!1,null,"55a05502",null),Ra=Ba.exports,Fa=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-alert",e._g({ref:"alert",attrs:{title:e.title}},e.$listeners),[t("template",{slot:"actions"},[t("o-button",{on:{click:function(i){return e.$refs.alert.close()}}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.publish_now_modal_skip_button"))+`
		`)]),e._v(" "),t("o-button",{attrs:{variant:"primary"},on:{click:e.buttonClick}},[e._v(`
			`+e._s(e.buttonText)+`
		`)])],1),e._v(" "),t("div",[e._v(`
		`+e._s(e.body)+`
	`)])],2)},ka=[],Ga=Object.defineProperty,Gt=Object.getOwnPropertySymbols,Na=Object.prototype.hasOwnProperty,Ua=Object.prototype.propertyIsEnumerable,Nt=(e,s,t)=>s in e?Ga(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,$a=(e,s)=>{for(var t in s||(s={}))Na.call(s,t)&&Nt(e,t,s[t]);if(Gt)for(var t of Gt(s))Ua.call(s,t)&&Nt(e,t,s[t]);return e},Ha={components:{OButton:w.OButton,OAlert:R.OAlert},mixins:[J],data(){return{title:Object(_.utl)("ecommerce.settings.dine_in.publish_now_alert_title"),body:this.getDineInPublishNowAlertBody,buttonText:Object(_.utl)("ecommerce.settings.dine_in.publish_now_alert_publish_button"),buttonClick:this.onGoToWebsite}},computed:$a({},Object(a.mapGetters)(r.e,{getDineInPublishNowAlertBody:"getDineInPublishNowAlertBody"})),created(){this.isSitePublished&&!this.isStoreOrderOnline&&(this.title=Object(_.utl)("ecommerce.settings.dine_in.switch_template_order_online_title"),this.body=Object(_.utl)("ecommerce.settings.dine_in.switch_template_order_online_body"),this.buttonText=Object(_.utl)("ecommerce.settings.dine_in.go_to_editor"),this.buttonClick=this.enableOrderOnline)}},Wa=Ha,za=Object(E.a)(Wa,Fa,ka,!1,null,null,null),Ut=za.exports,Va=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",{staticClass:"dine-in-blade-section"},[e.title?t("div",{staticClass:"dine-in-blade-section-heading"},[t("o-heading",{attrs:{size:"heading-20"}},[e._v(`
			`+e._s(e.title)+`
		`)]),e._v(" "),e.hideHeaderSlot?e._e():e._t("header-action",function(){return[t("o-button",{attrs:{variant:"text"},on:{click:function(i){return e.$emit("edit:click")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.edit"))+`
			`)])]})],2):e._e(),e._v(" "),e._t("default")],2)},Ka=[],Qa={name:"DineInBladeSection",components:{OButton:w.OButton,OHeading:A.OHeading,OSection:H.OSection},props:{title:{type:String,required:!1,default:null},hideHeaderSlot:{type:Boolean,required:!1,default:!1}}},Za=Qa,Su=n(1828),qa=Object(E.a)(Za,Va,Ka,!1,null,null,null),Xa=qa.exports,Ya=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-section",{staticClass:"dine-in-blade-subsection"},[e.title?t("div",{staticClass:"dine-in-blade-section-heading"},[t("p",{staticClass:"paragraph-30"},[e._v(`
			`+e._s(e.title)+`
		`)]),e._v(" "),e.hideHeaderSlot?e._e():e._t("dine-in-section-header-action",function(){return[t("o-button",{attrs:{variant:"text"},on:{click:function(i){return e.$emit("edit:click")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.edit"))+`
			`)])]})],2):e._e(),e._v(" "),e._t("default")],2)},Ja=[],eo={name:"DineInBladeSubsection",components:{OButton:w.OButton,OSection:H.OSection},props:{title:{type:String,required:!1,default:null},hideHeaderSlot:{type:Boolean,required:!1,default:!1}}},to=eo,yu=n(1829),so=Object(E.a)(to,Ya,Ja,!1,null,"38c1ed9e",null),no=so.exports,_o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"setting-group-row"},[t("span",{staticClass:"setting-name"},[e._v(e._s(e.label))]),e._v(" "),t("span",{staticClass:"setting-value"},[e._v(e._s(e.value))])])},io=[],ro={name:"DineInBladeSettingRow",props:{label:{type:String,required:!0},value:{type:String,required:!0}}},ao=ro,Ou=n(1830),oo=Object(E.a)(ao,_o,io,!1,null,"1b4665b2",null),lo=oo.exports,co=Object.defineProperty,uo=Object.defineProperties,po=Object.getOwnPropertyDescriptors,$t=Object.getOwnPropertySymbols,mo=Object.prototype.hasOwnProperty,vo=Object.prototype.propertyIsEnumerable,Ht=(e,s,t)=>s in e?co(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,_e=(e,s)=>{for(var t in s||(s={}))mo.call(s,t)&&Ht(e,t,s[t]);if($t)for(var t of $t(s))vo.call(s,t)&&Ht(e,t,s[t]);return e},Wt=(e,s)=>uo(e,po(s)),go=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),fo={name:"DineInSettingsBlade",components:{OBlade:je.OBlade,OButton:w.OButton,ODivider:Pe.ODivider,OTag:qs.OTag,OToggle:q.OToggle,TimeRangeWeekReadonly:dn,DineInBladeSection:Xa,DineInBladeSubsection:no,DineInBladeSettingRow:lo},mixins:[J],inject:{sheetLayer:U.SheetLayer,modalLayer:f.ModalLayer,alertLayer:R.AlertLayer},props:{title:{type:String,required:!0}},data(){return{isOpenTabsSaving:!1}},computed:Wt(_e(_e(_e({},Object(a.mapGetters)(r.E,["hasAccessToOpenTabs"])),Object(a.mapGetters)(r.e,{location:"stagedStoreLocationClone",canUseSSOBusinessHours:"canUseSSOBusinessHours",canUseSSOSMSPickupAlerts:"canUseSSOSMSPickupAlerts",shouldShowOpenTabsAdvert:"shouldShowOpenTabsAdvert",getDineInBusinessHoursLabel:"getDineInBusinessHoursLabel"})),Object(a.mapState)(r.f,["orderPrintingConsolidation"])),{userLocale(){return this.$store.getters["user/getLocale"]||Zs.a},showOrderConsolidation(){return this.orderPrintingConsolidation},shouldAllowOpenTabOrders(){return Object(P.get)(this.location,"dine_in_settings.opentab_enabled",!1)},seatGroups(){return Object(P.get)(this.location,"dine_in_settings.seat_groups",[])},businessHours(){return Object(P.get)(this.location,"dine_in_settings.business_hours",{})},dineInSettings(){return this.location.dine_in_settings},menuBanner(){const e=Object(P.get)(this.location,"dine_in_settings.menu_banner",null);return typeof e=="string"?e:le},checkoutBanner(){const e=Object(P.get)(this.location,"dine_in_settings.checkout_banner",null);return typeof e=="string"?e:de},serviceFee(){return this.dineInSettings.service_fee_type===z.FLAT?Object(_.formatCurrency)(this.dineInSettings.service_fee,this.userLocale):this.dineInSettings.service_fee_type===z.PERCENTAGE?`${Object(_.formatPercentage)(this.dineInSettings.service_fee/100)}`:Object(_.utl)("ecommerce.settings.dine_in.no_service_fee_label")},servingAlcoholStatus(){return this.dineInSettings.alcohol_enabled?Object(_.utl)("ecommerce.settings.dine_in.alcohol_settings_status_serving_alcohol"):Object(_.utl)("ecommerce.settings.dine_in.alcohol_settings_status_not_serving_alcohol")},ticketTimingStatus(){return this.dineInSettings.ticket_printing_consolidation_seconds===0?Object(_.utl)("ecommerce.settings.dine_in.ticket_timing_printing_immediately"):Object(_.utl)("ecommerce.settings.dine_in.ticket_timing_printing_wait")},servingAlcoholLimit(){return this.dineInSettings.alcohol_enabled?this.dineInSettings.alcohol_max_per_order?Object(_.utl)("ecommerce.settings.dine_in.alcohol_settings_alcohol_max",Object(_.formatNumber)(this.dineInSettings.alcohol_max_per_order)):Object(_.utl)("ecommerce.settings.dine_in.alcohol_settings_no_maximum"):""},smsOrderReceivedText(){return this.dineInSettings.sms_alert_order_created_enabled?Object(_.utl)("ecommerce.settings.dine_in.blade_sms_alert_settings_toggle_on_label"):Object(_.utl)("ecommerce.settings.dine_in.blade_sms_alert_settings_toggle_off_label")},smsOrderPreparedText(){return this.dineInSettings.sms_alert_order_prepared_enabled?Object(_.utl)("ecommerce.settings.dine_in.blade_sms_alert_settings_toggle_on_label"):Object(_.utl)("ecommerce.settings.dine_in.blade_sms_alert_settings_toggle_off_label")}}),watch:{$route(){this.$refs.dineInSettingsBlade.close()}},methods:Wt(_e(_e({},Object(a.mapMutations)(r.e,["stageStoreAddress"])),Object(a.mapActions)(r.e,["setOpenTabEnabled","updateLocation"])),{onTextMessageAlertEditClick(){Object(c.O)(),this.sheetLayer.open(Pa)},onEditBusinessHoursClick(){Object(c.B)(),this.sheetLayer.open(Qn,{props:{location:this.location}})},onEditServiceFeeClick(){Object(c.F)(),this.modalLayer.open($r)},onEditAlcoholSettingsClick(){Object(c.A)(),this.modalLayer.open(ta)},onEditStationGroupClick(){Object(c.E)(),this.sheetLayer.open(Y_)},onEditBannerClick(){Object(c.C)(),this.sheetLayer.open(Tr)},onEditTicketSettingsClick(){Object(c.D)(),this.modalLayer.open(Ra)},previewQrCode(){this.canOpenPreviewQrCode()?this.alertLayer.open(Ut):this.$emit("location-list-item:open-preview")},seatGroupCopy(e){return Object(_.utl)("ecommerce.settings.dine_in.seat_group_item",e.total_seats)},onOpenTabToggleChange(){return go(this,null,function*(){this.isOpenTabsSaving=!0,Object(c.I)(!this.shouldAllowOpenTabOrders),this.setOpenTabEnabled(!this.shouldAllowOpenTabOrders),yield this.updateLocation(this.location),this.isOpenTabsSaving=!1})}})},ho=fo,ju=n(1831),bo=Object(E.a)(ho,Ks,Qs,!1,null,"2f883cb3",null),So=bo.exports,yo=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("wizard",e._g({ref:"wizard",attrs:{loading:e.isSaving,"has-backdrop":!1,"allow-next":e.allowNext,"finish-button-disabled":!e.hasAtleastOneSeatGroup},on:{"wizard:finish":e.onWizardFinish,"wizard:next-step":e.onWizardNext},scopedSlots:e._u([{key:"stepper",fn:function(){return[t("div",[t("p",{staticClass:"dine-in-wizard-stepper"},[e._v(`
				`+e._s(e.stepLabel(e.wizardStepNumber,e.wizardTotalSteps))+`
			`)]),e._v(" "),t("o-heading",[e._v(e._s(e.wizardTitle))])],1)]},proxy:!0}])},e.$listeners),[e._v(" "),t("wizard-step",[t("item-fulfillment-section",{attrs:{"on-update-selection-data":e.onUpdateSelectionData,"menu-banner":e.menuBanner},on:{"update:title":e.onUpdateTitle}})],1),e._v(" "),t("wizard-step",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.custom_banners_header"),validate:function(){return e.hasValidBanners}}},[t("edit-banner-section",{attrs:{"menu-banner":e.menuBanner,"checkout-banner":e.checkoutBanner,"unavailable-banner":e.unavailableBanner,"display-order-resumption":e.displayOrderResumption,variant:"bordered"},on:{"update:menuBanner":e.handleMenuBannerChange,"update:checkoutBanner":e.handleCheckoutBannerChange,"update:unavailableBanner":e.handleUnavailableBannerChange,"update:showOrderResumption":e.handleOrderResumptionToggle,"toggle:isValid":e.setValidation}})],1),e._v(" "),t("wizard-step",{attrs:{validate:e.validateSeatGroups}},[e.wizardErrorMsg?t("o-notice",{staticClass:"wizard-notice small-section",attrs:{type:"error"}},[e._v(`
			`+e._s(e.wizardErrorMsg)+`
		`)]):e._e(),e._v(" "),t("seat-groups-section",{attrs:{"is-saving-seat-groups":e.isSavingSeatGroups},on:{"submit:addSeatGroup":function(i){return e.handleAddSeatGroup(i)&&e.setAllowNext(!0)},"submit:updateSeatGroup":e.handleUpdateSeatGroup,"submit:importSeatGroups":function(i){return e.handleDuplicateSeatGroups(i)&&e.setAllowNext(!0)},"click:delete":e.handleDeleteSeatGroup,"click:duplicate":e.handleDuplicateSeatGroups}})],1),e._v(" "),e.canUseSSOBusinessHours?t("wizard-step",{attrs:{validate:function(){return e.hasValidHours}}},[t("business-hours-form",{attrs:{hours:e.hours,timezone:e.timezone,"current-location-id":e.location.pickupLocationId,"display-locations-to-seed-from":!0},on:{"update:hours":e.onUpdateHours,"update:timezone":e.onUpdateTimezone}})],1):e._e(),e._v(" "),e.hasAccessToOpenTabs?t("wizard-step",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.wizard_settings_step_title")}},[t("o-section",[e.wizardErrorMsg?t("o-notice",{staticClass:"wizard-notice small-section",attrs:{type:"error"}},[e._v(`
				`+e._s(e.wizardErrorMsg)+`
			`)]):e._e(),e._v(" "),t("o-heading",{attrs:{size:"heading-20"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_settings_title"))+`
			`)]),e._v(" "),t("div",{staticClass:"toggle-container"},[t("div",[t("p",{staticClass:"paragraph-medium-30"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_settings_title"))+`
					`)]),e._v(" "),t("p",{staticClass:"paragraph-20 secondary-text"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.open_tab_toggle_description"))+`
					`)])]),e._v(" "),t("div",[t("o-toggle",{attrs:{checked:e.shouldAllowOpenTabOrders},on:{"toggle:update":e.onToggleChange}})],1)])],1),e._v(" "),e.canUseSSOSMSPickupAlerts?t("o-divider"):e._e(),e._v(" "),e.canUseSSOSMSPickupAlerts?t("o-section",{staticClass:"section-padding"},[t("o-heading",{attrs:{size:"heading-20"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.sms_alert_settings_title"))+`
			`)]),e._v(" "),t("sms-alert-form",{on:{"update:settings":e.handleDineInSettingsChange}})],1):e._e(),e._v(" "),e.showOrderConsolidation?t("o-divider"):e._e(),e._v(" "),e.showOrderConsolidation?t("o-section",{staticClass:"section-padding"},[t("o-heading",{attrs:{size:"title-3"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_title"))+`
			`)]),e._v(" "),t("div",[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_modal_description"))+`
			`)]),e._v(" "),t("o-form-item",[t("o-radio",{ref:"ticket-printing-immediately",staticClass:"timing-radio",attrs:{sublabel:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_immediately_sublabel"),value:!0},on:{"radio:update":e.onTicketTimingChoiceChange},model:{value:e.printImmediately,callback:function(i){e.printImmediately=i},expression:"printImmediately"}},[t("span",{staticClass:"timing-radio-title"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_immediately"))+`
					`)])])],1),e._v(" "),t("o-form-item",[t("o-radio",{ref:"ticket-printing-wait",staticClass:"timing-radio",attrs:{sublabel:e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_wait_sublabel"),value:!1},on:{"radio:update":e.onTicketTimingChoiceChange},model:{value:e.printImmediately,callback:function(i){e.printImmediately=i},expression:"printImmediately"}},[t("span",{staticClass:"timing-radio-title"},[e._v(`
						`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_printing_wait"))+`
					`)])])],1),e._v(" "),e.printImmediately===!1?t("div",{staticClass:"mt-3"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.ticket_timing_duration_description"))+`
				`),t("o-select",{ref:"ticket-printing-duration",staticClass:"mt-1 timing-select",attrs:{options:e.options},on:{"select:update":e.onTicketTimingValueChange},model:{value:e.currentDuration,callback:function(i){e.currentDuration=i},expression:"currentDuration"}})],1):e._e()],1):e._e()],1):e._e()],1)},Oo=[],zt=n(939),Vt=n(95),jo=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.isLoading?t("o-loading"):t("o-grid",{staticClass:"mt-3",attrs:{"vertical-align":"middle"}},[e.itemsTableVisible?t("o-grid-item",{staticClass:"full-height",attrs:{span:12,"tablet-landscape":7}},[t("o-section",{staticClass:"space-right"},[t("template",{slot:"description"},[e._v(`
				`+e._s(e.screenBody)+`
			`)]),e._v(" "),t("o-button",{staticClass:"preview-button",attrs:{variant:"secondary"},on:{click:e.openMenuPreviewInModal}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.preview"))+`
			`)]),e._v(" "),t("div",{staticClass:"item-selection"},[t("items-selector",{attrs:{"can-select-items":e.itemsTableSelectable,"is-select-all-available":!0,"is-using-infinite-scroll":!0,"is-searching-visible":!1,"visible-columns":e.visibleColumnsForItemSelection,"visible-filters":e.visibleFiltersForItemSelection,"externally-applied-filters":e.filters,"item-table-location":e.ITEM_TABLE_LOCATION_SHEET,"item-id-key":e.ITEM_ID_KEY,"hide-filter-tags":!e.itemsTableSelectable,"infinite-scroll-select-all-threshold":2},on:{"selection-data:update":e.onUpdateSelectionData}})],1)],2)],1):e._e(),e._v(" "),e.itemsTableVisible?e._e():t("o-grid-item",{staticClass:"no-item-section full-height",attrs:{span:12}},[e._v(`
		`+e._s(e.screenBody)+`
	`)]),e._v(" "),t("o-grid-item",{staticClass:"banner-preview full-height",attrs:{span:12,"tablet-landscape":e.previewLandscapeSize}},[t("div",{staticClass:"sticky"},[t("mobile-preview",{attrs:{"visible-page":e.MENU_PREVIEW_PAGE,"menu-banner":e.menuBanner,"enable-slider":!1,"active-border":!1}})],1)])],1)},Po=[],Io=n(1062),Co=n(1054),ie=n(15),Eo=n(18),Lo=Object.defineProperty,xo=Object.defineProperties,To=Object.getOwnPropertyDescriptors,Kt=Object.getOwnPropertySymbols,wo=Object.prototype.hasOwnProperty,Do=Object.prototype.propertyIsEnumerable,Qt=(e,s,t)=>s in e?Lo(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Se=(e,s)=>{for(var t in s||(s={}))wo.call(s,t)&&Qt(e,t,s[t]);if(Kt)for(var t of Kt(s))Do.call(s,t)&&Qt(e,t,s[t]);return e},Zt=(e,s)=>xo(e,To(s)),Ao=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())});const Mo="site_product_id";var Bo={components:{ItemsSelector:Co.a,OSection:H.OSection,MobilePreview:fe,OGrid:V.OGrid,OGridItem:V.OGridItem,OButton:w.OButton,OLoading:ae.OLoading},inject:{modalLayer:f.ModalLayer},props:{onUpdateSelectionData:{type:Function,default:()=>{}},menuBanner:{type:String,required:!0}},data(){return{isLoading:!1,title:"",bodyText:"",visibleColumnsForItemSelection:{[ie.x]:!0,[ie.A]:!0},filters:Object(ie.ab)(),ITEM_TABLE_LOCATION_SHEET:Io.b,ITEM_ID_KEY:Mo,MENU_PREVIEW_PAGE:re}},computed:Zt(Se(Se({},Object(a.mapGetters)(["chamberSelectedSiteApiUrl","chamberCatalogSiteApiUrl"])),Object(a.mapGetters)(r.e,{getDineInWizardItemFulfillmentStepTitle:"getDineInWizardItemFulfillmentStepTitle",getDineInWizardItemFulfillmentPreviewCaption:"getDineInWizardItemFulfillmentPreviewCaption",getDineInWizardItemFulfillmentStepDescriptionWithNoItems:"getDineInWizardItemFulfillmentStepDescriptionWithNoItems"})),{previewLandscapeSize(){return this.itemsTableVisible?5:12},hasDineInItemsAdded(){return this.productSkuByFulfillmentCount.dine_in>0},hasItemsAdded(){return this.productSkuByFulfillmentCount.total>0},screenTitle(){return this.hasDineInItemsAdded?Object(_.utl)("ecommerce.settings.dine_in.wizard_item_fulfillment_step_title_with_SSO_items"):this.hasItemsAdded?this.getDineInWizardItemFulfillmentStepTitle:this.getDineInWizardItemFulfillmentPreviewCaption},screenBody(){return this.hasDineInItemsAdded?Object(_.utl)("ecommerce.settings.dine_in.wizard_item_fulfillment_step_description_with_SSO_items"):this.hasItemsAdded?Object(_.utl)("ecommerce.settings.dine_in.wizard_item_fulfillment_step_description"):this.getDineInWizardItemFulfillmentStepDescriptionWithNoItems},itemsTableVisible(){return this.hasDineInItemsAdded||this.hasItemsAdded},itemsTableSelectable(){return this.hasItemsAdded&&!this.hasDineInItemsAdded},visibleFiltersForItemSelection(){return this.itemsTableSelectable?{[ie.i]:!0,[ie.n]:!0}:{}}}),created(){this.getProductCounts()},methods:Zt(Se({},Object(a.mapActions)(r.E,{fetchStoreInfo:"fetchStoreInfo"})),{newProduct(){this.$router.replace({name:l.G})},openMenuPreviewInModal(){this.modalLayer.open(he,{props:{title:Object(_.utl)("ecommerce.settings.dine_in.custom_banners_header"),visiblePage:this.MENU_PREVIEW_PAGE,menuBanner:this.menuBanner,enabledSlider:!1,activeBorder:!1}})},getProductCounts(){return Ao(this,null,function*(){this.isLoading=!0;const e=yield this.fetchStoreInfo();e&&(this.isLoading=!1,this.productSkuByFulfillmentCount=e.product_sku_by_fulfillment_counts,this.hasDineInItemsAdded&&this.filters.fulfillment.push(Eo.b),this.$emit("update:title",this.screenTitle))})}})},Ro=Bo,Pu=n(1832),Fo=Object(E.a)(Ro,jo,Po,!1,null,"98819242",null),ko=Fo.exports,Go=Object.defineProperty,No=Object.defineProperties,Uo=Object.getOwnPropertyDescriptors,qt=Object.getOwnPropertySymbols,$o=Object.prototype.hasOwnProperty,Ho=Object.prototype.propertyIsEnumerable,Xt=(e,s,t)=>s in e?Go(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ee=(e,s)=>{for(var t in s||(s={}))$o.call(s,t)&&Xt(e,t,s[t]);if(qt)for(var t of qt(s))Ho.call(s,t)&&Xt(e,t,s[t]);return e},Yt=(e,s)=>No(e,Uo(s)),N=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())});const Jt="itemSteps",es="bannerStep",ts="seatGroupStep",ss="businessHoursStep",ns="settingsStep";let Q=[Jt,es,ts,ns];var Wo={name:"DineInSetupWizard",components:{ONotice:O.ONotice,Wizard:zt.a,WizardStep:zt.b,OSection:H.OSection,OToggle:q.OToggle,OFormItem:$.OFormItem,ORadio:Mt.ORadio,OSelect:ce.OSelect,ODivider:Pe.ODivider,OHeading:A.OHeading,SeatGroupsSection:qe,ItemFulfillmentSection:ko,EditBannerSection:ct,BusinessHoursForm:Ge,SmsAlertForm:Tt},mixins:[J,vt],inject:{sheetLayer:U.SheetLayer,alertLayer:R.AlertLayer,modalLayer:f.ModalLayer},data(){return{allowNext:!0,wizardErrorMsg:"",wizardTitle:"",wizardStepNumber:1,wizardTotalSteps:4,isSaving:!1,itemfulfillmentToDineInProductIds:{included_ids:[],excluded_ids:[]},appliedFilters:{},totalItemsSelected:0,timezone:G.c,hours:Be.b,hasValidHours:!0,stepMapper:{[Jt]:{title:this.getDineInSelectItemsLabel,stepNumber:1},[es]:{title:Object(_.utl)("ecommerce.settings.dine_in.customize_messaging"),beforeEnterFn:()=>N(this,null,function*(){yield this.setItemFulfillment(),Object(c.N)()}),stepNumber:2},[ts]:{title:Object(_.utl)("ecommerce.settings.dine_in.wizard_station_cards_step_title_updated"),beforeEnterFn:()=>N(this,null,function*(){yield this.setBanners(),Object(c.U)(),this.allowNext=!1}),stepNumber:3},[ss]:{title:this.getDineInSetBusinessHoursLabel,beforeEnterFn:()=>{Object(c.M)()},stepNumber:4},[ns]:{title:Object(_.utl)("ecommerce.settings.dine_in.wizard_settings_step_title"),beforeEnterFn:()=>N(this,null,function*(){this.canUseSSOBusinessHours&&(yield this.setBusinessHours()),Object(c.T)()}),stepNumber:5}},printImmediately:!0,options:r.c,currentDuration:30,dineInSettingChanges:void 0}},computed:Yt(ee(ee(ee(ee({},Object(a.mapGetters)(r.E,["hasAccessToOpenTabs"])),Object(a.mapGetters)(r.e,{isSitePublished:"isCurrentSitePublished",canUseSSOBusinessHours:"canUseSSOBusinessHours",canUseSSOSMSPickupAlerts:"canUseSSOSMSPickupAlerts",getDineInSetBusinessHoursLabel:"getDineInSetBusinessHoursLabel",getDineInSelectItemsLabel:"getDineInSelectItemsLabel"})),Object(a.mapGetters)(Vt.GLOBAL_POPPER_NS,["showScalableSetupOnboarding","isAutoGeneratedSite"])),Object(a.mapState)(r.f,["orderPrintingConsolidation"])),{shouldAllowOpenTabOrders:{get(){return Object(P.get)(this.location,"dine_in_settings.opentab_enabled",!1)},set(e){this.setOpenTabEnabled(e)}},showOrderConsolidation(){return this.orderPrintingConsolidation},hasAtleastOneSeatGroup(){const e=Object(P.get)(this.location,"dine_in_settings.seat_groups");return e&&e.length}}),mounted(){Object(c.Z)(),this.canUseSSOBusinessHours&&(Q=[...Q.slice(0,3),ss,...Q.slice(3)]),this.wizardTotalSteps=Q.length,this.wizardTitle=this.stepMapper[Q[0]].title,this.wizardStepNumber=this.stepMapper[Q[0]].stepNumber,this.timezone=Object(P.get)(this.location,"dine_in_settings.timezone",G.c)},methods:Yt(ee(ee({},Object(a.mapActions)(r.e,["setItemFulfillmentToDineInForProducts","setOpenTabEnabled","setDineInEnabled","createOrUpdateDineInSettings"])),Object(a.mapActions)(Vt.GLOBAL_POPPER_NS,["fetchGuides","fetchGoals"])),{onToggleChange(){this.shouldAllowOpenTabOrders=!this.shouldAllowOpenTabOrders,Object(c.I)(this.shouldAllowOpenTabOrders)},onTicketTimingChoiceChange(){return N(this,null,function*(){this.onTicketTimingChange(),Object(c.W)(!this.printImmediately)})},onTicketTimingValueChange(){return N(this,null,function*(){this.onTicketTimingChange(),Object(c.X)()})},onTicketTimingChange(){return N(this,null,function*(){const e={ticket_printing_consolidation_seconds:this.printImmediately?0:this.currentDuration};yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:e})})},handleDineInSettingsChange({changes:e}){this.dineInSettingChanges=e},onUpdateSelectionData(e){var s,t,i,v;e.totalItemsSelected>this.totalItemsSelected?Object(c.P)(!0):e.totalItemsSelected<this.totalItemsSelected&&Object(c.P)(!1),this.totalItemsSelected=(s=e.totalItemsSelected)!=null?s:0,this.itemfulfillmentToDineInProductIds.included_ids=(t=e.ids)!=null?t:void 0,this.itemfulfillmentToDineInProductIds.excluded_ids=(i=e.excludedIds)!=null?i:void 0,this.appliedFilters=(v=e.filters)!=null?v:{}},validateSeatGroups(){return!!this.hasAtleastOneSeatGroup},setAllowNext(e){this.allowNext=!!e},onWizardNext(e){return N(this,arguments,function*({stepIndex:s}){const t=this.stepMapper[Q[s-1]];t.beforeEnterFn&&typeof t.beforeEnterFn=="function"&&(yield t.beforeEnterFn()),this.wizardStepNumber=t.stepNumber,this.wizardTitle=t.title})},onUpdateHours(e,s){this.hours=e,this.hasValidHours=s,this.setAllowNext(s)},onUpdateTitle(e){this.wizardTitle=e},onUpdateTimezone(e){this.timezone=e},setBusinessHours(){return N(this,null,function*(){yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:{business_hours:this.hours,timezone:this.timezone}})})},setItemFulfillment(){return N(this,null,function*(){if(this.itemfulfillmentToDineInProductIds.included_ids===void 0||this.itemfulfillmentToDineInProductIds.included_ids.length>0)try{this.isSaving=!0,yield this.setItemFulfillmentToDineInForProducts({siteProductIds:this.itemfulfillmentToDineInProductIds.included_ids,excludedProductIds:this.itemfulfillmentToDineInProductIds.excluded_ids,filters:this.appliedFilters,totalItemsSelected:this.totalItemsSelected})}catch(e){this.wizardErrorMsg=Object(_.utl)("ecommerce.settings.errors.request_generic")}finally{this.isSaving=!1}})},setBanners(){return N(this,null,function*(){try{this.isSaving=!0,yield this.saveBanners()}catch(e){this.wizardErrorMsg=Object(_.utl)("ecommerce.settings.errors.request_generic")}finally{this.isSaving=!1}})},onWizardFinish(e){return N(this,null,function*(){try{this.isSaving=!0,this.dineInSettingChanges&&(this.dineInSettingChanges.sms_alert_order_created_enabled!==void 0&&Object(c.R)(Boolean(this.dineInSettingChanges.sms_alert_order_created_enabled)),this.dineInSettingChanges.sms_alert_order_prepared_enabled!==void 0&&Object(c.Q)(Boolean(this.dineInSettingChanges.sms_alert_order_prepared_enabled)),yield this.createOrUpdateDineInSettings({dineInLocationId:this.location.pickupLocationId,dineInSettingsData:this.dineInSettingChanges})),yield this.setDineInEnabled(!0)}catch(s){this.wizardErrorMsg=Object(_.utl)("ecommerce.settings.errors.request_generic")}finally{this.isSaving=!1,this.onSaveSuccess(e)}})},onSaveSuccess(e){return N(this,null,function*(){this.canOpenPreviewQrCode()?this.alertLayer.open(Ut,{on:{close:this.closeWizard.bind(this,e)}}):this.closeWizard(e,!0)})},closeWizard(e,s=!1){(this.showScalableSetupOnboarding&&!this.isAutoGeneratedSite?this.fetchGoals:this.fetchGuides)(),e.close(s)},stepLabel(e,s){return Object(_.utl)("ecommerce.settings.dine_in.wizard_step_n_of_x",e,s)}})},zo=Wo,Iu=n(1833),Vo=Object(E.a)(zo,yo,Oo,!1,null,"c8c9e1da",null),_s=Vo.exports,Ko=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",e._g({ref:"modal"},e.$listeners),[t("o-modal-pane",{attrs:{title:e.translations.getQrCodeTitle,flush:""}},[t("PreviewModalPane",{attrs:{"location-id":e.locationId,"preview-selection":e.previewSelection},on:{"input:update":e.updatePreviewOption}}),e._v(" "),t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:e.handleSSOSelection}},[e._v(`
				`+e._s(e.translations.selectDesignsAction)+`
			`)])],1)],2),e._v(" "),t("o-modal-pane",{attrs:{title:e.translations.getQrCodeTitle,flush:""}},[t("QRCodeDesignSelectionPane",{attrs:{"design-selection":e.qrCodeDesignSelection,address:e.address},on:{"input:update":e.updateDesignSelection}}),e._v(" "),t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:e.handleDesignSelection}},[e._v(`
				`+e._s(e.primaryActionText)+`
			`)])],1)],2),e._v(" "),t("o-modal-pane",{attrs:{title:e.translations.getQrCodeTitle,flush:""}},[t("QRCodeSectionSelectionPane",{attrs:{"seat-groups":e.seatGroups,checked:e.checked,"export-error":e.exportError},on:{"section-selection:update":e.updateSectionSelection}}),e._v(" "),t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:e.handleSeatSelection}},[e._v(`
				`+e._s(e.translations.downloadAction)+`
			`)])],1)],2)],1)},Qo=[],Zo=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"preview-container"},[t("div",{staticClass:"preview-modal-left"},[t("div",{staticClass:"desc-container"},[t("o-heading",{attrs:{size:"title-2"}},[e._v(`
					`+e._s(e.translations.previewTitle)+`
				`)]),e._v(" "),t("p",[e._v(e._s(e.translations.usePhonePrompt))])],1),e._v(" "),t("o-section",{attrs:{variant:"normal"}},[e.hasBesiEnabled?t("o-accordion",{attrs:{label:e.translations.moreOptionsButton,variant:"subtle","aria-label":e.translations.moreOptionsButton},on:{click:e.toggleOptionsVisibility}},[t("o-accordion-item",{staticClass:"preview-accordion"},[t("o-radio-group",{model:{value:e.previewSelectionModel,callback:function(i){e.previewSelectionModel=i},expression:"previewSelectionModel"}},[t("o-radio",{attrs:{sublabel:e.translations.uniqueCodeInstructions,value:e.SSO}},[e._v(`
								`+e._s(e.translations.prefillLocationLabel)+`
							`)]),e._v(" "),t("o-radio",{attrs:{sublabel:e.translations.sameQrCodeInstructions,value:e.BESI}},[e._v(`
								`+e._s(e.translations.manualEnterInstructions)+`
							`)])],1)],1)],1):e._e()],1)],1),e._v(" "),t("div",{staticClass:"preview-modal-right"},[e.isLoading?t("o-loading",{staticClass:"loading"}):t("div",{staticClass:"preview-right-container"},[t("img",{attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/qr-code-preview-outline.svg")}}),e._v(" "),t("p",{staticClass:"mb-4 scan-preview"},[e._v(`
					`+e._s(e.scanPreviewPromptText)+`
				`)]),e._v(" "),t("q-r-preview-section",{attrs:{"has-error":e.qrCodeError,label:e.label,"qr-svg-preview":e.qrSvgPreview},on:{click:e.linkToQrLink}})],1)],1)])])},qo=[],oe=n(871),Xo=n(883),Yo=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"qrSvgContainer",on:{click:function(i){return e.$emit("click")}}},[e.hasError?t("img",{staticClass:"qrSvg",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/qr_preview_sample.svg")}}):t("div",{staticClass:"qrSvg",domProps:{innerHTML:e._s(e.qrSvgPreview)}}),e._v(" "),t("p",{staticClass:"qrSvgText"},[e._v(`
		`+e._s(""+e.label)+`
	`)])])},Jo=[],el={name:"QRPreviewSection",props:{qrSvgPreview:{type:String,required:!0},label:{type:String,default:""},hasError:{type:Boolean,default:!1}}},tl=el,Cu=n(1834),sl=Object(E.a)(tl,Yo,Jo,!1,null,"c2eb2e36",null),nl=sl.exports,_l=Object.defineProperty,il=Object.defineProperties,rl=Object.getOwnPropertyDescriptors,is=Object.getOwnPropertySymbols,al=Object.prototype.hasOwnProperty,ol=Object.prototype.propertyIsEnumerable,rs=(e,s,t)=>s in e?_l(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,as=(e,s)=>{for(var t in s||(s={}))al.call(s,t)&&rs(e,t,s[t]);if(is)for(var t of is(s))ol.call(s,t)&&rs(e,t,s[t]);return e},os=(e,s)=>il(e,rl(s)),ll=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())});const dl={previewTitle:Object(_.utl)("ecommerce.settings.dine_in.preview_title"),usePhonePrompt:Object(_.utl)("ecommerce.settings.dine_in.use_phone_prompt"),moreOptionsButton:Object(_.utl)("ecommerce.settings.dine_in.more_options"),uniqueCodeInstructions:Object(_.utl)("ecommerce.settings.dine_in.unique_qr_code_instructions"),prefillLocationLabel:Object(_.utl)("ecommerce.settings.dine_in.prefill_location_label"),sameQrCodeInstructions:Object(_.utl)("ecommerce.settings.dine_in.same_qr_code_instructions"),manualEnterInstructions:Object(_.utl)("ecommerce.settings.dine_in.manual_enter_station_instructions"),scanPreviewPrompt:Object(_.utl)("ecommerce.settings.dine_in.scan_preview_prompt")};var cl={components:{OAccordion:Xo.OAccordion,OSection:H.OSection,OHeading:A.OHeading,OLoading:ae.OLoading,ORadioGroup:oe.ORadioGroup,ORadio:oe.ORadio,QRPreviewSection:nl},props:{locationId:{type:String,required:!0},previewSelection:{type:String,required:!0}},data(){return{qrCodeError:!1,qrSvgPreview:"",qrLink:"",label:"Table 1",isLoading:!1,isOptionsExpanded:!0,BESI:F.a,SSO:F.b,translations:dl}},computed:os(as({},Object(a.mapGetters)("storefront",["hasBesiEnabled"])),{arrowIcon(){return this.isOptionsExpanded?"arrow-up":"arrow-down"},isBESISelected(){return this.previewSelectionModel===F.a},previewSelectionModel:{get(){return this.previewSelection},set(e){this.$emit("input:update",e)}},scanPreviewPromptText(){return this.translations.scanPreviewPrompt.toUpperCase()}}),watch:{previewSelectionModel(e){this.loadQrPreview(),this.emitQRCodeSelectionTracking(e)}},created(){this.loadQrPreview(),this.emitQRCodeSelectionTracking(this.previewSelectionModel)},methods:os(as({utl:_.utl},Object(a.mapActions)(r.e,["exportQRCodes"])),{emitQRCodeSelectionTracking(e){e===F.a?Object(c.z)():e===F.b&&Object(c.y)()},toggleOptionsVisibility(){this.isOptionsExpanded=!this.isOptionsExpanded},linkToQrLink(){window.open(this.qrLink,"_blank"),window.opener=null},loadQrPreview(){return ll(this,null,function*(){this.isLoading=!0;try{this.qrCodeError=!1;const e=yield this.exportQRCodes({exportAs:F.d,storeLocationId:this.locationId,isSynchronous:!0,isBESI:this.isBESISelected}),s=Object(P.get)(e,"data",null);if(!s){this.qrCodeError=!0;return}this.qrSvgPreview=s.qrCode,this.qrLink=s.qrCodeLink,this.label=this.isBESISelected?"":s.qrCodeLabel}catch(e){this.qrCodeError=!0}finally{this.isLoading=!1}})}})},ul=cl,Eu=n(1835),pl=Object(E.a)(ul,Zo,qo,!1,null,"2e58e308",null),ml=pl.exports,vl=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"preview-container"},[t("div",{staticClass:"preview-modal-left"},[t("o-heading",{attrs:{size:"title-2"}},[e._v(`
				`+e._s(e.translations.selectDesignHeading)+`
			`)]),e._v(" "),t("o-section",{attrs:{variant:"normal"}},[t("p",[e._v(e._s(e.translations.selectDesignDescription))]),e._v(" "),t("o-radio-group",{model:{value:e.designSelectionModel,callback:function(i){e.designSelectionModel=i},expression:"designSelectionModel"}},[t("o-radio",{attrs:{sublabel:e.translations.orderCardSublabel,value:e.OrderingCard}},[e._v(`
						`+e._s(e.translations.orderCardDescription)+`
					`)]),e._v(" "),t("o-radio",{attrs:{sublabel:e.translations.qrCodeOnlySublabel,value:e.QRCodeOnly}},[e._v(`
						`+e._s(e.translations.qrCodeOnlyDescription)+`
					`)])],1)],1)],1),e._v(" "),t("div",{staticClass:"preview-modal-right"},[e.designSelection==e.OrderingCard?t("div",{staticClass:"ordering-card"},[e._v(`
				`+e._s(e.translations.sampleOrderingCardName)+`

				`),t("h1",[e._v(e._s(e.translations.sampleOrderingCardPhonePrompt)),t("br"),e._v(e._s(e.translations.sampleOrderingCardNoAppLabel))]),e._v(" "),t("div",{staticClass:"order-card-rule-section"},[t("img",{staticClass:"order-card-code",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/example-QR-code.svg")}}),e._v(" "),t("p",[e._v(e._s(e.translations.sampleOrderingCardTitle))]),e._v(" "),t("ul",{staticClass:"card-example-instructions"},[t("li",[e._m(0),e._v(`
							`+e._s(e.translations.sampleOrderingCardInstruction1)+`
						`)]),e._v(" "),t("li",[e._m(1),e._v(`
							`+e._s(e.translations.sampleOrderingCardInstruction2)+`
						`)]),e._v(" "),t("li",[e._m(2),e._v(`
							`+e._s(e.translations.sampleOrderingCardInstruction3)+`
						`)])])]),e._v(" "),t("p",[e._v(e._s(e.translations.sampleOrderingCardOrderAgainPrompt))]),e._v(" "),t("img",{staticClass:"square-logo",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/checkout/square-logo.svg")}})]):t("img",{staticClass:"qr-code",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/example-QR-code.svg")}})])])])},gl=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("span",[e._v("1")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("span",[e._v("2")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("span",[e._v("3")])])}],fl=Object.defineProperty,hl=Object.defineProperties,bl=Object.getOwnPropertyDescriptors,ls=Object.getOwnPropertySymbols,Sl=Object.prototype.hasOwnProperty,yl=Object.prototype.propertyIsEnumerable,ds=(e,s,t)=>s in e?fl(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Ol=(e,s)=>{for(var t in s||(s={}))Sl.call(s,t)&&ds(e,t,s[t]);if(ls)for(var t of ls(s))yl.call(s,t)&&ds(e,t,s[t]);return e},jl=(e,s)=>hl(e,bl(s));const Pl={selectDesignHeading:Object(_.utl)("ecommerce.settings.dine_in.select_design_heading"),selectDesignDescription:Object(_.utl)("ecommerce.settings.dine_in.select_design_description"),orderCardDescription:Object(_.utl)("ecommerce.settings.dine_in.order_card_description"),orderCardSublabel:Object(_.utl)("ecommerce.settings.dine_in.order_card_sublabel"),sampleOrderingCardName:Object(_.utl)("ecommerce.settings.dine_in.sample_ordering_card_name"),sampleOrderingCardPhonePrompt:Object(_.utl)("ecommerce.settings.dine_in.sample_ordering_card_phone_prompt"),sampleOrderingCardNoAppLabel:Object(_.utl)("ecommerce.settings.dine_in.sample_ordering_card_no_app_label"),sampleOrderingCardInstruction1:Object(_.utl)("ecommerce.settings.dine_in.sample_ordering_card_instruction1"),sampleOrderingCardInstruction2:Object(_.utl)("ecommerce.settings.dine_in.sample_ordering_card_instruction2"),sampleOrderingCardInstruction3:Object(_.utl)("ecommerce.settings.dine_in.sample_ordering_card_instruction3"),sampleOrderingCardOrderAgainPrompt:Object(_.utl)("ecommerce.settings.dine_in.sample_ordering_card_order_again_prompt"),qrCodeOnlyDescription:Object(_.utl)("ecommerce.settings.dine_in.qr_code_only_description"),qrCodeOnlySublabel:Object(_.utl)("ecommerce.settings.dine_in.qr_code_only_sublabel")};var Il={components:{OSection:H.OSection,OHeading:A.OHeading,ORadioGroup:oe.ORadioGroup,ORadio:oe.ORadio},props:{designSelection:{type:String,required:!0}},data(){return{OrderingCard:F.c,QRCodeOnly:F.e,translations:Pl}},computed:jl(Ol({},Object(a.mapGetters)("storefront",{isSiteInMetricUnits:"isSiteUsingMetricUnits",siteLogo:"siteLogo",siteTitle:"siteTitle"})),{designSelectionModel:{get(){return this.designSelection},set(e){this.$emit("input:update",e)}}}),watch:{designSelection(e){this.emitDesignSelectionTrackingEvent(e)}},created(){this.emitDesignSelectionTrackingEvent(this.designSelection)},methods:{emitDesignSelectionTrackingEvent(e){e===F.c?Object(c.J)():e===F.e&&Object(c.L)()}}},Cl=Il,Lu=n(1836),El=Object(E.a)(Cl,vl,gl,!1,null,"f7e214c0",null),Ll=El.exports,xl=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"section-selection-container"},[e.exportError?t("o-notice",{staticClass:"modal-error",attrs:{type:"error"}},[e._v(`
		`+e._s(e.exportError)+`
	`)]):e._e(),e._v(" "),t("o-heading",{attrs:{size:"title-2"}},[e._v(`
		`+e._s(e.translations.selectOrderingCardsHeading)+`
	`)]),e._v(" "),t("p",[e._v(e._s(e.translations.selectSectionsDescription))]),e._v(" "),t("o-table",{attrs:{"row-data":e.seatGroups,checked:e.checkedModel}},[t("o-table-col",{attrs:{property:"name"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_section_name"))+`
		`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_count"},scopedSlots:e._u([{key:"formatter",fn:function(i){return[e._v(`
				`+e._s(i.data.total_seats)+`
			`)]}}])},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_total_seats"))+`
			`)]),e._v(" "),t("o-table-col",{attrs:{property:"seat_label"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.table_header_seat_label"))+`
		`)])],1)],1)},Tl=[];const wl={selectOrderingCardsHeading:Object(_.utl)("ecommerce.settings.dine_in.select_ordering_cards_heading"),selectSectionsDescription:Object(_.utl)("ecommerce.settings.dine_in.select_sections_description")};var Dl={components:{OTable:Y.OTable,OTableCol:Y.OTableCol,OHeading:A.OHeading,ONotice:O.ONotice},props:{seatGroups:{type:Array,required:!0},checked:{type:Array,required:!0},exportError:{type:String,default:""}},data(){return{translations:wl}},computed:{checkedModel:{get(){return this.checked},set(e){this.$emit("section-selection:update",e)}}},methods:{utl:_.utl}},Al=Dl,xu=n(1837),Ml=Object(E.a)(Al,xl,Tl,!1,null,"d784e0ae",null),Bl=Ml.exports;const Rl={getQrCodeTitle:Object(_.utl)("ecommerce.settings.dine_in.get_qr_code_title"),selectDesignsAction:Object(_.utl)("ecommerce.settings.dine_in.select_designs_action"),downloadAction:Object(_.utl)("ecommerce.settings.dine_in.download_action"),continueAction:Object(_.utl)("ecommerce.settings.dine_in.continue_action")};var Fl={components:{OModal:f.OModal,OModalPane:f.OModalPane,PreviewModalPane:ml,OButton:w.OButton,QRCodeDesignSelectionPane:Ll,QRCodeSectionSelectionPane:Bl},props:{locationId:{type:String,required:!0},address:{type:Object,required:!0}},data(){return{previewSelection:F.b,qrCodeDesignSelection:F.c,exportError:"",checked:Object(P.clone)(Object(P.get)(this.address,"location.dine_in_settings.seat_groups",[])),translations:Rl}},computed:{singleSeatGroup(){return this.seatGroups.length===1},seatGroups(){return Object(P.get)(this.location,"dine_in_settings.seat_groups",[])},location(){return Object(P.get)(this.address,"location",{})},totalPrintCount(){return this.checked.reduce((e,s)=>e+s.total_seats,0)},primaryActionText(){return this.singleSeatGroup?this.translations.downloadAction:this.translations.continueAction}},methods:{handleSSOSelection(){Object(c.Y)(),this.$refs.modal.forward()},handleDesignSelection(){this.singleSeatGroup&&(Object(c.K)(),this.$refs.modal.close({exportAs:this.qrCodeDesignSelection,seatGroups:this.seatGroups,isBESI:this.previewSelection===F.a})),this.$refs.modal.forward()},handleSeatSelection(){if(this.exportError="",this.totalPrintCount>Ee){this.exportError=Object(_.utl)("ecommerce.settings.dine_in.seat_group_maximum_error",Ee);return}Object(c.K)(),this.$refs.modal.close({exportAs:this.qrCodeDesignSelection,seatGroups:this.checked,isBESI:this.previewSelection===F.a})},updatePreviewOption(e){this.previewSelection=e},updateDesignSelection(e){this.qrCodeDesignSelection=e},updateSectionSelection(e){this.checked=e}}},kl=Fl,Gl=Object(E.a)(kl,Ko,Qo,!1,null,"3cb2bd23",null),Nl=Gl.exports,Ul=n(875),$l=Object.defineProperty,Hl=Object.defineProperties,Wl=Object.getOwnPropertyDescriptors,cs=Object.getOwnPropertySymbols,zl=Object.prototype.hasOwnProperty,Vl=Object.prototype.propertyIsEnumerable,us=(e,s,t)=>s in e?$l(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,K=(e,s)=>{for(var t in s||(s={}))zl.call(s,t)&&us(e,t,s[t]);if(cs)for(var t of cs(s))Vl.call(s,t)&&us(e,t,s[t]);return e},ps=(e,s)=>Hl(e,Wl(s)),ms=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),Kl={components:{AsyncToggle:zs.a,OButton:w.OButton,OSchooltip:Oe.OSchooltip,OHeading:A.OHeading,ONotice:O.ONotice,OIcon:M.OIcon,AddressDisplay:Hs.a},directives:{Hovertip:D.OHovertip},filters:{formatAddressName:_.formatAddressName,formatAddressOneLine:_.formatAddressOneLine,formatPhoneNumber:Ws.a},mixins:[Ul.c,J],inject:{sheetLayer:U.SheetLayer,alertLayer:R.AlertLayer,bladeLayer:je.BladeLayerKey,modalLayer:f.ModalLayer},props:{address:{type:Object,required:!0},simple:{type:Boolean,required:!1,default:!1},onLocationClickedCallback:{type:Function,required:!1,default:void 0}},data(){return{exportDisabled:!1,hasQrCodeError:!1,ftuxString:d.FTUX_DINE_IN_ZERO_STATE}},computed:ps(K(K(K(K(K({},Object(a.mapGetters)({hasSharedCatalog:"hasSharedCatalog"})),Object(a.mapGetters)(r.l,{getFeature:"getFeature"})),Object(a.mapGetters)(r.E,{hasAccessToOpenTabs:"hasAccessToOpenTabs"})),Object(a.mapGetters)(r.e,{isSitePublished:"isCurrentSitePublished",canUseSSOBusinessHours:"canUseSSOBusinessHours",shouldShowOpenTabsAdvert:"shouldShowOpenTabsAdvert",getDineInToggleLabel:"getDineInToggleLabel",getDineInUpgradeHoverTipLabel:"getDineInUpgradeHoverTipLabel",getDineInInvalidAddressNotice:"getDineInInvalidAddressNotice",getDineInMissingAddressNoticeText:"getDineInMissingAddressNoticeText",getDineInNoQrCodeCTA:"getDineInNoQrCodeCTA"})),Object(a.mapGetters)(r.k,["isFirstTimeExperienceVisibleForSite"])),{shouldShowSchoolTip(){return this.isFirstTimeExperienceVisibleForSite(this.ftuxString)&&this.shouldShowOpenTabsAdvert?0:null},isDineInEnabled(){return Object(P.get)(this.location,"dine_in_enabled",!1)&&this.hasSelfServeOrderingFeature},seatGroups(){return Object(P.get)(this.location,"dine_in_settings.seat_groups",[])},businessHours(){return Object(P.get)(this.location,"dine_in_settings.business_hours",null)},isActive(){return this.canUseSSOBusinessHours?this.seatGroups.length>0&&this.businessHours:this.seatGroups.length>0},locationCanEnableSSO(){return this.hasSelfServeOrderingFeature},location(){return Object(P.get)(this.address,"location",{})},isAddressEmpty(){return!this.address.street},setupHovertip(){return this.address.isValid?"":this.getDineInInvalidAddressNotice},toggleHovertip(){return this.hasSelfServeOrderingFeature?this.locationCanEnableSSO?"":Object(_.utl)("ecommerce.settings.dine_in.dine_in_disabled_reason"):this.getDineInUpgradeHoverTipLabel},hasSelfServeOrderingFeature(){var e;return(e=this.getFeature("self_serve_ordering"))==null?void 0:e.value}}),created(){this.exportTypes={SEAT_EXPORT_ZIP:F.e,SEAT_EXPORT_PDF:F.c}},methods:ps(K(K(K({},Object(a.mapMutations)(r.e,["stageStoreAddress"])),Object(a.mapActions)(r.e,["setDineInEnabled","setOpenTabEnabled","fetchLocationById","exportQRCodes","redirectToExportQRCode"])),Object(a.mapActions)(r.k,{dismissFTUX:"completeFirstTimeExperienceForSite"})),{onDismissClick(){this.dismissFTUX(this.ftuxString)},onToggleDineIn(){return ms(this,null,function*(){return this.locationCanEnableSSO?(this.stageStoreAddress(this.address),this.isDineInEnabled?(this.setOpenTabEnabled(!1),Object(c.V)(!1),this.setDineInEnabled(!1)):(Object(c.V)(!0),this.setDineInEnabled(!0))):!1})},onExportBtnClicked(){!this.isActive||(this.stageStoreAddress(this.address),this.bladeLayer.open(e=>e(So,{props:{title:Object(_.formatAddressName)(this.address)},on:{"location-list-item:open-preview":()=>this.onGetQRCodesClick()}})))},onLocationClicked(){this.onLocationClickedCallback&&!this.isAddressEmpty&&this.address.isValid&&this.onLocationClickedCallback(this.address)},isWithinSyncronousLimit(e){return e.reduce((t,i)=>t+i.total_seats,0)<=un},openDineInSetupWizard(){Object(c.G)(c.w.click_setup_qr_codes),this.stageStoreAddress(this.address),this.sheetLayer.open(_s,{on:{close:e=>{e&&this.onGetQRCodesClick()}}})},onGetQRCodesClick(){Object(c.H)(),this.modalLayer.open(Nl,{props:{locationId:this.location.pickupLocationId,address:this.address},on:{close:({exportAs:e,seatGroups:s,isBESI:t})=>{!s||!s.length||this.exportSeats(e,s,t)}}})},exportSeats(e,s,t=!1){return ms(this,null,function*(){try{this.hasQrCodeError=!1;const i=this.isWithinSyncronousLimit(s),v=s.map(C=>C.id);if(i)yield this.redirectToExportQRCode({exportAs:e,storeLocationId:this.location.pickupLocationId,seatGroupIds:v,isSynchronous:i,isBESI:t});else{const C=yield this.exportQRCodes({exportAs:e,storeLocationId:this.location.pickupLocationId,seatGroupIds:v,isSynchronous:i,isBESI:t});this.alertLayer.open(Vs.a,{props:{title:Object(_.utl)("dine_in.alert_header"),message:Object(_.utl)("dine_in.alert_message",C.data.email),confirmText:Object(_.utl)("dine_in.alert_confirmation"),cancelText:"",confirmCallback:()=>{}}})}}catch(i){this.hasQrCodeError=!0}})},onEditAddress(){this.openEditAddressModal(this.address,()=>{this.$store.dispatch(`${r.e}/fetchStoreAddresses`)},{onEvents:{"address:saved":()=>{this.$emit("refresh-list")}}})}})},Ql=Kl,Tu=n(1838),Zl=Object(E.a)(Ql,B,k,!1,null,"176eba3b",null),ql=Zl.exports,Xl=Object.defineProperty,Yl=Object.defineProperties,Jl=Object.getOwnPropertyDescriptors,vs=Object.getOwnPropertySymbols,ed=Object.prototype.hasOwnProperty,td=Object.prototype.propertyIsEnumerable,gs=(e,s,t)=>s in e?Xl(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ye=(e,s)=>{for(var t in s||(s={}))ed.call(s,t)&&gs(e,t,s[t]);if(vs)for(var t of vs(s))td.call(s,t)&&gs(e,t,s[t]);return e},fs=(e,s)=>Yl(e,Jl(s)),hs=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),sd={components:{OPagination:L.OPagination,OButtonGroup:T.OButtonGroup,OButtonGroupItem:T.OButtonGroupItem,ContentLoading:g.a,LocationListItem:ql},props:{addresses:{type:Array,default:()=>[]},simpleList:{type:Boolean,default:!1,required:!1},locationClickCallback:{type:Function,required:!1,default:void 0}},data(){return{isLoading:!1,itemsPerPageOptions:[{value:10,label:"10"},{value:20,label:"20"},{value:50,label:"50"}]}},computed:fs(ye({},Object(a.mapState)(r.e,["storeAddressPagination"])),{numPages(){return this.storeAddressPagination.pages},itemsTotal(){return this.storeAddressPagination.itemsTotal},itemsPerPage:{get(){return this.storeAddressPagination.itemsPerPage},set(e){this.updateStoreAddressPagination({itemsPerPage:e}),this.refreshListData()}},currentPage:{get(){return this.storeAddressPagination.currentPage},set(e){this.updateStoreAddressPagination({currentPage:e}),this.refreshListData()}}}),methods:fs(ye(ye({},Object(a.mapActions)(r.e,["fetchStoreAddresses"])),Object(a.mapMutations)(r.e,["updateStoreAddressPagination"])),{refreshListData(){return hs(this,null,function*(){this.isLoading=!0,yield this.fetchStoreAddresses(),this.isLoading=!1})},onLocationClick(e){return hs(this,null,function*(){this.locationClickCallback&&(this.isLoading=!0,yield this.locationClickCallback(e),this.isLoading=!1)})}})},nd=sd,wu=n(1839),_d=Object(E.a)(nd,j,I,!1,null,"839e7eb0",null),bs=_d.exports,id=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-zero-state",{attrs:{title:e.getDineInZeroStateHeaderLabel,"full-width":!0}},[t("div",{staticClass:"container"},[t("self-serve-instructions")],1),e._v(" "),t("template",{slot:"actions"},[t("o-button",{on:{click:e.onLearnMoreClick}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.learn_more_link"))+`
		`)]),e._v(" "),t("o-button",{attrs:{variant:"muted"},on:{click:e.onDismissClick}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.common.dismiss"))+`
		`)])],1)],2)},rd=[],Ss=n(516),ad=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container"},[t("span",{staticClass:"zero-state-step"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/ordering-card.svg")}}),e._v(" "),t("img",{staticClass:"icon-mobile",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/1.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_ordering_cards")))])]),e._v(" "),t("img",{staticClass:"next-step-icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/right_arrow.svg")}}),e._v(" "),t("span",{staticClass:"zero-state-step"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/qr-code-icon.svg")}}),e._v(" "),t("img",{staticClass:"icon-mobile",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/2.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_qr_code")))])]),e._v(" "),t("img",{staticClass:"next-step-icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/right_arrow.svg")}}),e._v(" "),t("span",{staticClass:"zero-state-step"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/card-chip-checkmark.svg")}}),e._v(" "),t("img",{staticClass:"icon-mobile",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/3.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_payment")))])])])},od=[],Du=n(1840),ld={},dd=Object(E.a)(ld,ad,od,!1,null,"f37d9330",null),ys=dd.exports,cd=Object.defineProperty,ud=Object.defineProperties,pd=Object.getOwnPropertyDescriptors,Os=Object.getOwnPropertySymbols,md=Object.prototype.hasOwnProperty,vd=Object.prototype.propertyIsEnumerable,js=(e,s,t)=>s in e?cd(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Ps=(e,s)=>{for(var t in s||(s={}))md.call(s,t)&&js(e,t,s[t]);if(Os)for(var t of Os(s))vd.call(s,t)&&js(e,t,s[t]);return e},gd=(e,s)=>ud(e,pd(s)),fd={components:{OZeroState:Ss.OZeroState,OButton:w.OButton,SelfServeInstructions:ys},data(){return{learnMoreLink:we}},computed:Ps({},Object(a.mapGetters)(r.e,{getDineInZeroStateHeaderLabel:"getDineInZeroStateHeaderLabel"})),methods:gd(Ps({},Object(a.mapActions)("platform",{dismissFTUX:"completeFirstTimeExperienceForSite"})),{onDismissClick(){this.dismiss()},dismiss(){this.dismissFTUX(d.FTUX_DINE_IN_ZERO_STATE)},onLearnMoreClick(){this.learnMoreLink&&(window.open(this.learnMoreLink,"_blank"),window.opener=null)}})},hd=fd,Au=n(1841),bd=Object(E.a)(hd,id,rd,!1,null,"c8eeaa5c",null),Sd=bd.exports,yd=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("banner",{staticClass:"banner",attrs:{flush:!0},on:{"click:dismiss":e.handleDismiss}},[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"copy-wrapper"},[t("o-heading",{attrs:{size:"title-4"}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.canva_banner_copy"))+`
			`)]),e._v(" "),t("o-button",{staticClass:"cta",attrs:{variant:"text"},on:{click:function(i){return e.$emit("click:try-canva")}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.canva_banner_button"))+`
			`)])],1),e._v(" "),t("img",{staticClass:"banner-img",attrs:{src:e.imageUrl}})])])},Od=[],jd=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"container",class:{flush:e.flush}},[e._t("default"),e._v(" "),t("o-button",{staticClass:"dismiss-button",attrs:{variant:"muted"},on:{click:function(i){return e.$emit("click:dismiss")}}},[t("o-icon",{attrs:{name:"x"}})],1)],2)},Pd=[],Id={components:{OButton:w.OButton,OIcon:M.OIcon},props:{flush:{type:Boolean,default:!1}}},Cd=Id,Mu=n(1842),Ed=Object(E.a)(Cd,jd,Pd,!1,null,"d5b95642",null),Ld=Ed.exports,xd=Object.defineProperty,Td=Object.defineProperties,wd=Object.getOwnPropertyDescriptors,Is=Object.getOwnPropertySymbols,Dd=Object.prototype.hasOwnProperty,Ad=Object.prototype.propertyIsEnumerable,Cs=(e,s,t)=>s in e?xd(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Md=(e,s)=>{for(var t in s||(s={}))Dd.call(s,t)&&Cs(e,t,s[t]);if(Is)for(var t of Is(s))Ad.call(s,t)&&Cs(e,t,s[t]);return e},Bd=(e,s)=>Td(e,wd(s)),Rd={components:{OButton:w.OButton,Banner:Ld,OHeading:A.OHeading},data(){return{imageUrl:Object(_.assetify)("/images/commerce/store-app/app/dine-in/canva-templates.png")}},methods:Bd(Md({utl:_.utl},Object(a.mapActions)(r.k,["completeFirstTimeExperienceForSite"])),{handleDismiss(){this.completeFirstTimeExperienceForSite(d.FTUX_DINE_IN_CANVA)}})},Fd=Rd,Bu=n(1843),kd=Object(E.a)(Fd,yd,Od,!1,null,"047eb870",null),Gd=kd.exports,Nd=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",e._g({ref:"modal"},e.$listeners),[t("o-modal-pane",{attrs:{title:e._f("utl")("ecommerce.settings.dine_in.canva_modal_title")}},[t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:function(i){return e.$refs.modal.close()}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.done"))+`
			`)])],1),e._v(" "),t("div",{staticClass:"content"},[t("div",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.canva_modal_copy")))]),e._v(" "),t("div",{staticClass:"templates"},e._l(e.templates,function(i,v){return t("div",{key:v,staticClass:"template-item",on:{click:function(C){return e.onTemplateItemClick(i)}}},[t("img",{staticClass:"template-thumb",class:i.imageClass,attrs:{src:i.imageUrl,alt:i.label}}),e._v(" "),t("div",{staticClass:"template-label"},[e._v(`
						`+e._s(i.label)+`
					`)]),e._v(" "),t("div",{staticClass:"template-dimensions"},[e._v(`
						`+e._s(i.dimensions)+`
					`)])])}),0),e._v(" "),e.isUSBasedSeller?t("div",{staticClass:"hire-designer-link"},[e._v(`
				`+e._s(e._f("utl")("ecommerce.settings.dine_in.canva_modal_hire_designer"))+`

				`),t("a",{attrs:{href:"https://99designs.com/briefs/square-online-self-serve",target:"_blank",rel:"noopener noreferrer"},on:{click:e.onHireDesignerClick}},[e._v(`
					`+e._s(e._f("utl")("ecommerce.settings.dine_in.hire-designer-cta"))+`
				`)])]):e._e()])],2)],1)},Ud=[],$d=Object.defineProperty,Hd=Object.defineProperties,Wd=Object.getOwnPropertyDescriptors,Es=Object.getOwnPropertySymbols,zd=Object.prototype.hasOwnProperty,Vd=Object.prototype.propertyIsEnumerable,Ls=(e,s,t)=>s in e?$d(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Kd=(e,s)=>{for(var t in s||(s={}))zd.call(s,t)&&Ls(e,t,s[t]);if(Es)for(var t of Es(s))Vd.call(s,t)&&Ls(e,t,s[t]);return e},Qd=(e,s)=>Hd(e,Wd(s));const Zd="US";var qd={components:{OButton:w.OButton,OModal:f.OModal,OModalPane:f.OModalPane},data(){return{templates:[{imageUrl:Object(_.assetify)("/images/commerce/store-app/app/dine-in/canva-template-1.png"),imageClass:"template-thumb-1",label:Object(_.utl)("ecommerce.settings.dine_in.canva_template_link",1),dimensions:Object(_.utl)("ecommerce.settings.dine_in.template_size_one"),canvaUrl:"https://www.canva.com/design/DAEkwbS3CS8/_Waow-MbePLGucR4Xg4h6g/view?utm_content=DAEkwbS3CS8&utm_campaign=designshare&utm_medium=link&utm_source=sharebutton&mode=preview"},{imageUrl:Object(_.assetify)("/images/commerce/store-app/app/dine-in/canva-template-2.png"),imageClass:"template-thumb-2",label:Object(_.utl)("ecommerce.settings.dine_in.canva_template_link",2),dimensions:Object(_.utl)("ecommerce.settings.dine_in.template_size_two"),canvaUrl:"https://www.canva.com/design/DAEkwe2uJ7A/Q3ITIflopZcRtpL1VZPIFQ/view?utm_content=DAEkwe2uJ7A&utm_campaign=designshare&utm_medium=link&utm_source=sharebutton&mode=preview"},{imageUrl:Object(_.assetify)("/images/commerce/store-app/app/dine-in/canva-template-3.png"),imageClass:"template-thumb-3",label:Object(_.utl)("ecommerce.settings.dine_in.canva_template_link",3),dimensions:Object(_.utl)("ecommerce.settings.dine_in.template_size_three"),canvaUrl:"https://www.canva.com/design/DAEkwRpH9-Q/qxDq3CKJdt6cWQndvjieGQ/view?utm_content=DAEkwRpH9-Q&utm_campaign=designshare&utm_medium=link&utm_source=sharebutton&mode=preview"}]}},computed:Qd(Kd({},Object(a.mapGetters)(r.H,{countryCode:"countryCode"})),{isUSBasedSeller(){return this.countryCode===Zd}}),methods:{utl:_.utl,onHireDesignerClick(){Object(c.G)(c.v.click_find_out_more)},onTemplateItemClick(e){Object(c.G)(c.v.click_canva_template),window.open(e.canvaUrl,"_blank"),window.opener=null}}},Xd=qd,Ru=n(1844),Yd=Object(E.a)(Xd,Nd,Ud,!1,null,"bc0964d6",null),Jd=Yd.exports,ec=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-modal",e._g({ref:"modal",staticClass:"modal",attrs:{size:"large"}},e.$listeners),[t("o-modal-pane",{attrs:{title:e.getDineInZeroStateHeaderLabel}},[t("template",{slot:"actions"},[t("o-button",{attrs:{variant:"primary"},on:{click:function(i){return e.$refs.modal.close()}}},[e._v(`
				`+e._s(e._f("utl")("ecommerce.common.got_it"))+`
			`)])],1),e._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"instructions-wrapper"},[t("self-serve-instructions")],1)])],2)],1)},tc=[],sc=Object.defineProperty,xs=Object.getOwnPropertySymbols,nc=Object.prototype.hasOwnProperty,_c=Object.prototype.propertyIsEnumerable,Ts=(e,s,t)=>s in e?sc(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ic=(e,s)=>{for(var t in s||(s={}))nc.call(s,t)&&Ts(e,t,s[t]);if(xs)for(var t of xs(s))_c.call(s,t)&&Ts(e,t,s[t]);return e},rc={components:{OButton:w.OButton,OModal:f.OModal,OModalPane:f.OModalPane,SelfServeInstructions:ys},computed:ic({},Object(a.mapGetters)(r.e,{getDineInZeroStateHeaderLabel:"getDineInZeroStateHeaderLabel"})),methods:{utl:_.utl}},ac=rc,Fu=n(1845),oc=Object(E.a)(ac,ec,tc,!1,null,"40be6246",null),lc=oc.exports,dc=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("SSOUpgradeZeroState",{on:{"start-sso-setup":e.startSSOSetup}}),e._v(" "),t("o-grid",{staticClass:"sso-how-it-works"},[t("o-grid-item",{staticClass:"item",attrs:{span:6}},[t("h3",[e._v(e._s(e.getDineInZeroStateHeaderLabel))]),e._v(" "),t("ul",{staticClass:"sso-how-it-works-list"},[t("li",{staticClass:"sso-how-it-works-list-item"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/qr-code-icon.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_upgrade_page_step_one")))])]),e._v(" "),t("li",{staticClass:"sso-how-it-works-list-item"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/ordering-card.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_ordering_cards")))])]),e._v(" "),t("li",{staticClass:"sso-how-it-works-list-item"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/phone-check.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_scan")))])]),e._v(" "),t("li",{staticClass:"sso-how-it-works-list-item"},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/app/dine-in/card-chip-checkmark.svg")}}),e._v(" "),t("p",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_instructions_payment")))])])])]),e._v(" "),t("o-grid-item",{staticClass:"item",attrs:{span:6}},[t("img",{staticClass:"sso-image",attrs:{src:e._f("assetify")("/images/commerce/store-app/sso-how-it-works.png")}})])],1)],1)},cc=[],uc=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("o-sheet",e._g({ref:"sheet"},e.$listeners),[t("h1",[e._v(e._s(e._f("utl")("ecommerce.settings.dine_in.sso_location_select")))]),e._v(" "),t("p",[e._v(e._s(e.getDineInSSOLocationSelectDescription))]),e._v(" "),t("location-list",{attrs:{addresses:e.addresses,"simple-list":!0,"location-click-callback":e.onLocationSelected},on:{"refresh-list":e.fetchDineInLocations}})],1)},pc=[],mc=Object.defineProperty,ws=Object.getOwnPropertySymbols,vc=Object.prototype.hasOwnProperty,gc=Object.prototype.propertyIsEnumerable,Ds=(e,s,t)=>s in e?mc(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,fc=(e,s)=>{for(var t in s||(s={}))vc.call(s,t)&&Ds(e,t,s[t]);if(ws)for(var t of ws(s))gc.call(s,t)&&Ds(e,t,s[t]);return e},hc=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),bc={name:"SSOLocationSelect",components:{OSheet:U.OSheet,LocationList:bs},computed:fc({},Object(a.mapGetters)(r.e,{addresses:"storeAddressesWithLocation",getDineInSSOLocationSelectDescription:"getDineInSSOLocationSelectDescription"})),methods:{fetchDineInLocations(){return hc(this,null,function*(){this.isLoading=!0;try{yield this.$store.dispatch(`${r.e}/fetchStoreAddresses`)}finally{this.isLoading=!1}})},onLocationSelected(e){this.$emit("location-selected",e,this.$refs.sheet)}}},Sc=bc,yc=Object(E.a)(Sc,uc,pc,!1,null,null,null),Oc=yc.exports,jc=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"dine-in-zero-state-wrapper"},[t("upgrade-badge",{attrs:{"feature-id":"self_serve_ordering",location:"sso","site-id":e.siteId}}),e._v(" "),t("o-zero-state",{staticClass:"dine-in-zero-state-heading",attrs:{title:e.getDineInTitleLabel}},[e._v(`
		`+e._s(e._f("utl")("ecommerce.settings.dine_in.sso_upgrade_page_header"))+`
		`),t("a",{attrs:{href:"https://squareup.com/help/us/en/article/7142-set-up-self-serve-ordering-and-qr-codes-with-square-online",target:"_blank"}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.sso_upgrade_page_learn_more"))+`
		`)])]),e._v(" "),e._t("additional-content",function(){return[t("o-button",{attrs:{variant:"primary"},on:{click:function(i){return e.$emit("start-sso-setup")}}},[e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.canva_banner_button"))+`
		`)]),e._v(" "),t("o-button",{staticClass:"watch-video-btn",attrs:{variant:"tertiary"},on:{click:e.openVideo}},[t("img",{staticClass:"icon",attrs:{src:e._f("assetify")("/images/commerce/store-app/play-icon-filled.svg")}}),e._v(`
			`+e._s(e._f("utl")("ecommerce.settings.dine_in.sso_upgrade_page_watch_video"))+`
		`)])]})],2)},Pc=[],Ic=Object.defineProperty,As=Object.getOwnPropertySymbols,Cc=Object.prototype.hasOwnProperty,Ec=Object.prototype.propertyIsEnumerable,Ms=(e,s,t)=>s in e?Ic(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Bs=(e,s)=>{for(var t in s||(s={}))Cc.call(s,t)&&Ms(e,t,s[t]);if(As)for(var t of As(s))Ec.call(s,t)&&Ms(e,t,s[t]);return e},Lc={name:"SsoUpgradeZeroState",components:{OButton:w.OButton,OZeroState:Ss.OZeroState,UpgradeBadge:b.UpgradeBadge},computed:Bs(Bs({},Object(a.mapState)(["siteId"])),Object(a.mapGetters)(r.e,{getDineInTitleLabel:"getDineInTitleLabel"})),methods:{openVideo(){window.open("https://youtu.be/oTgYJCJi0wA","_blank").focus()}}},xc=Lc,ku=n(1846),Tc=Object(E.a)(xc,jc,Pc,!1,null,"18816a72",null),Rs=Tc.exports,wc=Object.defineProperty,Dc=Object.defineProperties,Ac=Object.getOwnPropertyDescriptors,Fs=Object.getOwnPropertySymbols,Mc=Object.prototype.hasOwnProperty,Bc=Object.prototype.propertyIsEnumerable,ks=(e,s,t)=>s in e?wc(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Gs=(e,s)=>{for(var t in s||(s={}))Mc.call(s,t)&&ks(e,t,s[t]);if(Fs)for(var t of Fs(s))Bc.call(s,t)&&ks(e,t,s[t]);return e},Rc=(e,s)=>Dc(e,Ac(s)),Fc=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),kc={name:"SsoUpgradeView",components:{OGrid:V.OGrid,OGridItem:V.OGridItem,SSOUpgradeZeroState:Rs},inject:{sheetLayer:U.SheetLayer},props:{addresses:{type:Array,required:!0}},computed:Gs({},Object(a.mapGetters)(r.e,{getDineInZeroStateHeaderLabel:"getDineInZeroStateHeaderLabel"})),methods:Rc(Gs({},Object(a.mapMutations)(r.e,["stageStoreAddress"])),{startSSOSetup(){this.sheetLayer.open(Oc,{on:{"location-selected":this.onLocationSelected}})},onLocationSelected(e,s){return Fc(this,null,function*(){yield Promise.all([this.stageStoreAddress(e),s.close()]),this.sheetLayer.open(_s,{on:{close:t=>{t&&this.$emit("dine-in-wizard-complete")}}})})}})},Gc=kc,Gu=n(1847),Nc=Object(E.a)(Gc,dc,cc,!1,null,"6907f7b6",null),Uc=Nc.exports,$c=Object.defineProperty,Hc=Object.defineProperties,Wc=Object.getOwnPropertyDescriptors,Ns=Object.getOwnPropertySymbols,zc=Object.prototype.hasOwnProperty,Vc=Object.prototype.propertyIsEnumerable,Us=(e,s,t)=>s in e?$c(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Z=(e,s)=>{for(var t in s||(s={}))zc.call(s,t)&&Us(e,t,s[t]);if(Ns)for(var t of Ns(s))Vc.call(s,t)&&Us(e,t,s[t]);return e},$s=(e,s)=>Hc(e,Wc(s)),Kc=(e,s,t)=>new Promise((i,v)=>{var C=o=>{try{S(t.next(o))}catch(y){v(y)}},x=o=>{try{S(t.throw(o))}catch(y){v(y)}},S=o=>o.done?i(o.value):Promise.resolve(o.value).then(C,x);S((t=t.apply(e,s)).next())}),Qc={name:"DineIn",components:{ONotice:O.ONotice,ContentLoading:g.a,LocationList:bs,SpringPage:b.SpringPage,DineInZeroState:Sd,CanvaBanner:Gd,SsoUpgradeView:Uc,SsoUpgradeZeroState:Rs,UpgradeButton:b.UpgradeButton},mixins:[J],inject:{modalLayer:f.ModalLayer},data(){return{isLoading:!0,ROUTE_PRODUCTS:l.E,ROUTE_PICKUP:l.D}},computed:$s(Z(Z(Z(Z(Z(Z({},Object(a.mapState)(["siteId"])),Object(a.mapGetters)({hasSharedCatalog:"hasSharedCatalog"})),Object(a.mapGetters)(r.e,{addresses:"storeAddressesWithLocation",currentSiteTitle:"currentSiteTitle",location:"stagedStoreLocationClone",isSitePublished:"isCurrentSitePublished",getDineInTitleLabel:"getDineInTitleLabel"})),Object(a.mapGetters)(r.l,{getFeature:"getFeature"})),Object(a.mapGetters)(r.H,{countryCode:"countryCode"})),Object(a.mapGetters)(r.k,["isFirstTimeExperienceVisibleForSite"])),{pageTitle(){return this.hasSelfServeOrderingFeature?this.getDineInTitleLabel:null},publishSiteNoticeText(){return Object(_.utl)("ecommerce.settings.dine_in.publish_first_notice_updated",this.currentSiteTitle)},hasAlcoholItemsNotice(){const e=this.addresses.some(s=>s.location.dine_in_enabled&&s.location.dine_in_settings&&s.location.dine_in_settings.alcohol_enabled);return this.isFirstTimeExperienceVisibleForSite(d.FTUX_ADD_ALCOHOLIC_ITEMS)&&e},shouldShowCanvaBanner(){return this.isFirstTimeExperienceVisibleForSite(d.FTUX_DINE_IN_CANVA)&&this.hasAtleastOneLocationSetup},shouldShowZeroState(){return this.isFirstTimeExperienceVisibleForSite(d.FTUX_DINE_IN_ZERO_STATE)&&!this.hasAtleastOneLocationSetup},hasAtleastOneLocationSetup(){return this.addresses.some(e=>e.location.dine_in_settings)},hasSelfServeOrderingFeature(){var e;return(e=this.getFeature("self_serve_ordering"))==null?void 0:e.value},showPaidFeatureState(){const e=this.addresses.some(s=>{var t,i;return((i=(t=s.location.dine_in_settings)==null?void 0:t.seat_groups)==null?void 0:i.length)>0});return!this.hasSelfServeOrderingFeature&&!e}}),mounted(){this.fetchDineInLocations()},beforeCreate(){this.$store.dispatch("storefront/fetchSiteSnapshot")},methods:$s(Z({},Object(a.mapActions)(r.k,["completeFirstTimeExperienceForSite"])),{showCanvaModal(){Object(c.G)(c.v.click_banner_cta),this.modalLayer.open(Jd)},showSSOInstructionsModal(){this.modalLayer.open(lc)},onAlcoholItemsDismiss(){this.completeFirstTimeExperienceForSite(d.FTUX_ADD_ALCOHOLIC_ITEMS)},fetchDineInLocations(){return Kc(this,null,function*(){this.isLoading=!0;try{yield this.$store.dispatch(`${r.e}/fetchStoreAddresses`)}finally{this.isLoading=!1}})}})},Zc=Qc,Nu=n(1848),qc=Object(E.a)(Zc,u,h,!1,null,"fafe7c3e",null),Uu=p.default=qc.exports},871:function(m,p,n){(function(u,h){if(!0)m.exports=h(n(350));else var O,r})(typeof self!="undefined"?self:this,function(u){return function(h){var O={};function r(d){if(O[d])return O[d].exports;var l=O[d]={i:d,l:!1,exports:{}};return h[d].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=h,r.c=O,r.d=function(d,l,_){r.o(d,l)||Object.defineProperty(d,l,{configurable:!1,enumerable:!0,get:_})},r.n=function(d){var l=d&&d.__esModule?function(){return d.default}:function(){return d};return r.d(l,"a",l),l},r.o=function(d,l){return Object.prototype.hasOwnProperty.call(d,l)},r.p="/",r(r.s=1373)}({1373:function(h,O,r){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var d=r(1374);r.n(d);for(var l in d)l!=="default"&&function(_){r.d(O,_,function(){return d[_]})}(l)},1374:function(h,O){h.exports=u}})})},876:function(m,p,n){(function(u,h){if(!0)m.exports=h(n(32));else var O,r})(typeof self!="undefined"?self:this,function(u){return function(h){var O={};function r(d){if(O[d])return O[d].exports;var l=O[d]={i:d,l:!1,exports:{}};return h[d].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=h,r.c=O,r.d=function(d,l,_){r.o(d,l)||Object.defineProperty(d,l,{configurable:!1,enumerable:!0,get:_})},r.n=function(d){var l=d&&d.__esModule?function(){return d.default}:function(){return d};return r.d(l,"a",l),l},r.o=function(d,l){return Object.prototype.hasOwnProperty.call(d,l)},r.p="/",r(r.s=1456)}({0:function(h,O,r){"use strict";O.a=function(d,l,_,a,b,f,c,g){var j,I=typeof d=="function"?d.options:d;if(l&&(I.render=l,I.staticRenderFns=_,I._compiled=!0),a&&(I.functional=!0),f&&(I._scopeId="data-v-"+f),c?(j=function(B){(B=B||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__=="undefined"||(B=__VUE_SSR_CONTEXT__),b&&b.call(this,B),B&&B._registeredComponents&&B._registeredComponents.add(c)},I._ssrRegister=j):b&&(j=g?function(){b.call(this,this.$root.$options.shadowRoot)}:b),j)if(I.functional){I._injectStyles=j;var L=I.render;I.render=function(B,k){return j.call(k),L(B,k)}}else{var T=I.beforeCreate;I.beforeCreate=T?[].concat(T,j):[j]}return{exports:d,options:I}}},1456:function(h,O,r){"use strict";Object.defineProperty(O,"__esModule",{value:!0});var d=r(1457);r.d(O,"OTextarea",function(){return d.a})},1457:function(h,O,r){"use strict";var d=r(1458),l=r(494),_=r(1460),a=r(0),b=Object(a.a)(l.a,d.a,d.b,!1,function(f){this.$s=_.default.locals||_.default},null,null);O.a=b.exports},1458:function(h,O,r){"use strict";var d=r(1459);r.d(O,"a",function(){return d.a}),r.d(O,"b",function(){return d.b})},1459:function(h,O,r){"use strict";r.d(O,"a",function(){return d}),r.d(O,"b",function(){return l});var d=function(){var _,a=this,b=a.$createElement;return(a._self._c||b)("textarea",a._g(a._b({directives:[{name:"model",rawName:"v-model",value:a.textareaVal,expression:"textareaVal"}],class:[a.$s.Textarea,(_={},_[a.$s.resizable]=a.resizable,_[a.$s.invalid]=a.formItem&&a.formItem.invalid,_),a.$s["theme_"+a.theme]],domProps:{value:a.textareaVal},on:{input:function(f){f.target.composing||(a.textareaVal=f.target.value)}}},"textarea",a.$attrs,!1),a.$listeners))},l=[]},1460:function(h,O,r){"use strict";var d=r(496),l=r.n(d);O.default=l.a},494:function(h,O,r){"use strict";var d=r(495);O.a=d.a},495:function(h,O,r){"use strict";var d=r(6);r.n(d),O.a={name:"OTextarea",model:{event:"textarea:update"},props:{value:{type:null,default:void 0},resizable:{type:Boolean,default:!1},theme:{type:String,default:"normal",validator:l=>["normal","monospace"].includes(l)}},inject:{formItem:{from:d.FormItemKey,default:void 0}},computed:{textareaVal:{get(){return this.value},set(l){this.$emit("textarea:update",l)}}}}},496:function(h,O){h.exports={Textarea:"\u{1F680}5-3-12GPH0 \u{1F680}5-3-11fyTq",invalid:"\u{1F680}5-3-12wgF2",resizable:"\u{1F680}5-3-131qgt",theme_monospace:"\u{1F680}5-3-13AEi4"}},6:function(h,O){h.exports=u}})})},883:function(m,p,n){(function(u,h){if(!0)m.exports=h(n(44),n(34),n(281));else var O,r})(typeof self!="undefined"?self:this,function(u,h,O){return function(r){var d={};function l(_){if(d[_])return d[_].exports;var a=d[_]={i:_,l:!1,exports:{}};return r[_].call(a.exports,a,a.exports,l),a.l=!0,a.exports}return l.m=r,l.c=d,l.d=function(_,a,b){l.o(_,a)||Object.defineProperty(_,a,{configurable:!1,enumerable:!0,get:b})},l.n=function(_){var a=_&&_.__esModule?function(){return _.default}:function(){return _};return l.d(a,"a",a),a},l.o=function(_,a){return Object.prototype.hasOwnProperty.call(_,a)},l.p="/",l(l.s=546)}({0:function(r,d,l){"use strict";d.a=function(_,a,b,f,c,g,j,I){var L,T=typeof _=="function"?_.options:_;if(a&&(T.render=a,T.staticRenderFns=b,T._compiled=!0),f&&(T.functional=!0),g&&(T._scopeId="data-v-"+g),j?(L=function(P){(P=P||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||typeof __VUE_SSR_CONTEXT__=="undefined"||(P=__VUE_SSR_CONTEXT__),c&&c.call(this,P),P&&P._registeredComponents&&P._registeredComponents.add(j)},T._ssrRegister=L):c&&(L=I?function(){c.call(this,this.$root.$options.shadowRoot)}:c),L)if(T.functional){T._injectStyles=L;var B=T.render;T.render=function(P,A){return L.call(A),B(P,A)}}else{var k=T.beforeCreate;T.beforeCreate=k?[].concat(k,L):[L]}return{exports:_,options:T}}},1:function(r,d){r.exports=u},100:function(r,d){r.exports={transitioning:"\u{1F680}5-3-13hdSM"}},127:function(r,d,l){"use strict";var _=l(147),a=l(98),b=l(149),f=l(0),c=Object(f.a)(a.a,_.a,_.b,!1,function(g){this.$s=b.default.locals||b.default},null,null);d.a=c.exports},141:function(r,d,l){"use strict";var _=l(142);d.a=_.a},142:function(r,d,l){"use strict";var _=l(5),a=l.n(_),b=l(1),f=(l.n(b),l(143)),c=l(144);d.a={name:"OAccordion",model:{prop:"open",event:"accordion:update"},props:{open:{type:Number,default:void 0},label:{type:String,default:void 0},subtitle:{type:String,default:void 0},variant:{type:String,default:"normal",validate:g=>["normal","contained","subtle"].includes(g)},size:{type:String,default:"medium",validate:g=>["small","medium","large"].includes(g)}},data(){const g=this;return{isOpen:0,state:{children:[],get openIdx(){return(g.open!==void 0?g.open:g.isOpen)||0},set openIdx(j){g.open!==void 0?g.$emit("accordion:update",j):g.isOpen=j},get variant(){return g.variant},get size(){return g.size}}}},provide(){return{[f.a]:this.state}},methods:{isAccordionItem:g=>g.componentOptions&&g.componentOptions.Ctor.extendOptions===c.a,enforceChildType(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).every(g=>!g.tag||this.isAccordionItem(g))}},render(){const g=arguments[0],{default:j=[]}=this.$slots;j.length===0&&Object(b.showWarning)("Accordion","Content must be passed into the Accordion");const I=j.filter(L=>this.isAccordionItem(L));return I.length===1&&Object(b.showWarning)("Accordion","Use the Accordion component as an AccordionItem if you only have one section"),j.length>0&&I.length===0?I.push(g(c.a,{attrs:{label:this.label,subtitle:this.subtitle}},[j])):this.enforceChildType(j)||Object(b.throwError)("Accordion","Only AccordionItems are allowed"),g("div",a()([{class:this.$s.Accordion},{attrs:this.$attrs}]),[I])}}},143:function(r,d,l){"use strict";const _=Symbol("Accordion");d.a=_},144:function(r,d,l){"use strict";var _=l(548),a=l(145),b=l(550),f=l(0),c=Object(f.a)(a.a,_.a,_.b,!1,function(g){this.$s=b.default.locals||b.default},null,null);d.a=c.exports},145:function(r,d,l){"use strict";var _=l(146);d.a=_.a},146:function(r,d,l){"use strict";var _=l(2),a=(l.n(_),l(33)),b=l.n(a),f=l(127),c=l(143);d.a={name:"OAccordionItem",components:{OIcon:_.OIcon,NoClickFocus:b.a,CollapseTransition:f.a},props:{label:{type:String,required:!0},subtitle:{type:String,default:void 0}},data:()=>({accordionId:Symbol("accordionId")}),inject:{accordion:c.a},computed:{open(){return this.accordion.children[this.accordion.openIdx]===this.accordionId}},created(){this.accordion.children.push(this.accordionId)},beforeDestroy(){const g=this.accordion.children.indexOf(this.accordionId);this.accordion.children.splice(g,1)},methods:{toggleOpen(){const g=this.accordion.children.indexOf(this.accordionId);this.accordion.openIdx=this.accordion.openIdx!==g?g:-1}}}},147:function(r,d,l){"use strict";var _=l(148);l.d(d,"a",function(){return _.a}),l.d(d,"b",function(){return _.b})},148:function(r,d,l){"use strict";l.d(d,"a",function(){return _}),l.d(d,"b",function(){return a});var _=function(){var b=this,f=b.$createElement;return(b._self._c||f)("transition",b._b({attrs:{"enter-active-class":b.$s.transitioning,"leave-active-class":b.$s.transitioning},on:{"before-enter":b.zeroHeight,enter:b.setContentHeight,"after-enter":b.removeHeight,"before-leave":b.setContentHeight,leave:b.onLeave,"after-leave":b.removeHeight}},"transition",b.$attrs,!1),[b._t("default")],2)},a=[]},149:function(r,d,l){"use strict";var _=l(100),a=l.n(_);d.default=a.a},150:function(r,d){r.exports={LabelWrap:"\u{1F680}5-3-13vlwP \u{1F680}5-3-11fyTq",size_small:"\u{1F680}5-3-1x8ciE",size_large:"\u{1F680}5-3-12fzKc",Label:"\u{1F680}5-3-11rlU3",HeaderButton:"\u{1F680}5-3-1ppIIe",InnerHeaderButton:"\u{1F680}5-3-1cJiaI",hasSubtitle:"\u{1F680}5-3-11RsIc",AccordionItem:"\u{1F680}5-3-1gnuyy \u{1F680}5-3-11fyTq",CollapseIcon:"\u{1F680}5-3-18oJ34",variant_contained:"\u{1F680}5-3-11o6Pe",variant_subtle:"\u{1F680}5-3-13u3Lh",open:"\u{1F680}5-3-13pB0K",Container:"\u{1F680}5-3-1F1jHg",variant_normal:"\u{1F680}5-3-11S3-j"}},151:function(r,d){r.exports={Accordion:"\u{1F680}5-3-1hSW-c"}},2:function(r,d){r.exports=h},33:function(r,d){r.exports=O},5:function(r,d){var l=/^(attrs|props|on|nativeOn|class|style|hook)$/;function _(a,b){return function(){a&&a.apply(this,arguments),b&&b.apply(this,arguments)}}r.exports=function(a){return a.reduce(function(b,f){var c,g,j,I,L;for(j in f)if(c=b[j],g=f[j],c&&l.test(j))if(j==="class"&&(typeof c=="string"&&(L=c,b[j]=c={},c[L]=!0),typeof g=="string"&&(L=g,f[j]=g={},g[L]=!0)),j==="on"||j==="nativeOn"||j==="hook")for(I in g)c[I]=_(c[I],g[I]);else if(Array.isArray(c))b[j]=c.concat(g);else if(Array.isArray(g))b[j]=[c].concat(g);else for(I in g)c[I]=g[I];else b[j]=f[j];return b},{})}},546:function(r,d,l){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var _=l(547),a=l(144);l.d(d,"OAccordion",function(){return _.a}),l.d(d,"OAccordionItem",function(){return a.a})},547:function(r,d,l){"use strict";var _=l(141),a=l(551),b=l(0),f=Object(b.a)(_.a,void 0,void 0,!1,function(c){this.$s=a.default.locals||a.default},null,null);d.a=f.exports},548:function(r,d,l){"use strict";var _=l(549);l.d(d,"a",function(){return _.a}),l.d(d,"b",function(){return _.b})},549:function(r,d,l){"use strict";l.d(d,"a",function(){return _}),l.d(d,"b",function(){return a});var _=function(){var b,f,c=this,g=c.$createElement,j=c._self._c||g;return j("div",{class:[c.$s.AccordionItem,c.$s["variant_"+c.accordion.variant],c.$s["size_"+c.accordion.size],(b={},b[c.$s.open]=c.open,b)]},[j("button",{class:c.$s.HeaderButton,attrs:{"aria-expanded":!!c.open,type:"button"},on:{click:c.toggleOpen}},[j("no-click-focus",{class:[c.$s.InnerHeaderButton,(f={},f[c.$s.hasSubtitle]=c.subtitle,f)]},[j("div",{class:c.$s.LabelWrap},[j("div",{class:c.$s.Label},[c._v(`
					`+c._s(c.label)+`
				`)]),c._v(" "),c.subtitle?j("div",[c._v(`
					`+c._s(c.subtitle)+`
				`)]):c._e()]),c._v(" "),c.accordion.variant!=="subtle"?j("o-icon",{class:c.$s.CollapseIcon,attrs:{name:"arrow-down"}}):c._e(),c._v(" "),c.accordion.variant==="subtle"?j("o-icon",{class:c.$s.CollapseIcon,attrs:{name:"arrow-up"}}):c._e()],1)],1),c._v(" "),j("collapse-transition",[j("div",{directives:[{name:"show",rawName:"v-show",value:c.open,expression:"open"}],attrs:{"aria-hidden":!c.open}},[j("div",{class:c.$s.Container},[c._t("default")],2)])])],1)},a=[]},550:function(r,d,l){"use strict";var _=l(150),a=l.n(_);d.default=a.a},551:function(r,d,l){"use strict";var _=l(151),a=l.n(_);d.default=a.a},98:function(r,d,l){"use strict";var _=l(99);d.a=_.a},99:function(r,d,l){"use strict";d.a={methods:{zeroHeight(_){Object.assign(_.style,{height:"0px",paddingTop:"0px",paddingBottom:"0px"})},removeHeight(_){_.style.height="auto"},setContentHeight(_){const a=this.$el?this.$el.scrollHeight:0;Object.assign(_.style,{height:"".concat(a,"px"),paddingTop:null,paddingBottom:null})},onLeave(_){this.setContentHeight(_),this.zeroHeight(_)}}}}})})},884:function(m,p,n){"use strict";var u=function(){var f=this,c=f.$createElement,g=f._self._c||c;return g("div",f._l(f.addressFormatFilledInMultiLines,function(j){return g("div",{key:j},[g("span",{staticClass:"address-display"},[f._v(f._s(j))])])}),0)},h=[],O=n(282),r={name:"AddressDisplay",props:{address:{type:Object,required:!0},isMultiLine:{type:Boolean,default:!0},excludeCountry:{type:Boolean,default:!0}},computed:{countryCode(){return this.address.countryCode||this.address.country_code||"US"},options(){return this.excludeCountry?{excludeFields:["countryCode"]}:{}},addressFormatFilledInMultiLines(){return this.isMultiLine?Object(O.c)(this.address,this.countryCode,this.options):[Object(O.d)(this.address,this.countryCode,this.options)]}}},d=r,l=n(908),_=n(21),a=Object(_.a)(d,u,h,!1,null,"5c3724c8",null),b=p.a=a.exports},887:function(m,p,n){},908:function(m,p,n){"use strict";var u=n(887),h=n.n(u)},931:function(m,p,n){"use strict";n.d(p,"b",function(){return l}),n.d(p,"c",function(){return _}),n.d(p,"a",function(){return a});var u=n(2),h=n.n(u),O=n(17);const r={visibleColumns:"tableOptions.visibleColumns",canSelectItems:"tableOptions.canSelectItems",itemSelectionLimit:"tableOptions.itemSelectionLimit",isSelectAllAvailable:"tableOptions.isSelectAllAvailable",visibleFilters:"tableOptions.visibleFilters",isUsingInfiniteScroll:"tableOptions.isUsingInfiniteScroll",excludedSites:"tableOptions.excludedSites",fetchFromCatalogSite:"tableOptions.fetchFromCatalogSite",isSearchingVisible:"tableOptions.isSearchingVisible",fetchOnCreation:"tableOptions.fetchOnCreation",preSelectedItems:"tableOptions.preSelectedItems",itemIdKey:"tableOptions.itemIdKey",backgroundAppliedFilters:"tableOptions.backgroundAppliedFilters",externallyAppliedFilters:"initialValues.filters",externalSearch:"initialValues.search",externalSort:"initialValues.sort",defaultSort:"initialValues.sort",itemTableLocation:"tableOptions.itemsTableLocation",itemsTableStickyHeader:"tableOptions.itemsTableStickyHeader",hideFilterTags:"tableOptions.hideFilterTags",isAllSelectedInitially:"tableOptions.selectAllInitially",infiniteScrollSelectAllThreshold:"tableOptions.infiniteScrollSelectAllThreshold"},d={itemsSelectedTotal:"totalItemsSelected",itemsTotal:"totalItemCount",filters:"filters",search:"search",excludedIds:"excludedIds",ids:"ids"};function l(b,f){if(!b)return{};const c=Object.entries(Object(u.cloneDeep)(b)).reduce((g,[j,I])=>{const L=r[j];if(!L)return g;if((L==="tableOptions.visibleColumns"||L==="tableOptions.visibleFilters")&&(I=Object.entries(I).reduce((T,[B,k])=>(T[Object(u.camelCase)(B)]=k,T),{})),L==="initialValues.sort"){if(!(I==null?void 0:I.column))return g;I.column=Object(u.camelCase)(I.column)}return L==="tableOptions.preSelectedItems"&&(I=I.map(T=>T[b.itemIdKey||"id"])),Object(u.set)(g,L,I),g},{});return Object(u.merge)(c,Object(u.cloneDeep)(f))}function _(b){return Object.entries(Object(u.cloneDeep)(b)).reduce((f,[c,g])=>{const j=d[c];return j&&Object(u.set)(f,j,g),f},{})}function a(b){const f=Object(u.cloneDeep)(b),c={};return(f==null?void 0:f.sort_column_action)&&(c["event-tracking:sort"]=g=>Object(O.G)(Object.assign(f.sort_column_action,{value:g}))),(f==null?void 0:f.view_selections_will_be_cleared_popup)&&(c["event-tracking:clear-selections-to-select-all-alert:show"]=()=>Object(O.G)(f.view_selections_will_be_cleared_popup)),(f==null?void 0:f.clear_selections_to_select_all)&&(c["event-tracking:clear-selections-to-select-all-alert:cancel"]=()=>Object(O.G)(Object.assign(f.clear_selections_to_select_all,{value:"cancel"}))),(f==null?void 0:f.clear_selections_to_select_all)&&(c["event-tracking:clear-selections-to-select-all-alert:proceed"]=()=>Object(O.G)(Object.assign(f.clear_selections_to_select_all,{value:"continue"}))),(f==null?void 0:f.update_filters_action)&&(c["event-tracking:filter"]=g=>Object(O.G)(Object.assign(f.update_filters_action,{value:JSON.stringify(g)}))),c}}}]);

//# sourceMappingURL=dine-in-main.844d1fbace331d00c4e8.js.map